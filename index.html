<html lang="en" data-google-analytics-opt-out=""><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <title>RYTUNYN : ARCHITECT OF HAPPINESS</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Inter:wght@200;400;600;800&display=swap');

        /* * PURE CSS ARCHITECTURE - RESPONSIVE TIMELINE ENGINE 
         * Designed by Super-intelligent Narrative Intelligence
         */
        
        body, html {
            margin: 0;
            padding: 0;
            background-color: #050505;
            overflow-x: hidden;
            height: 100%;
            -webkit-tap-highlight-color: transparent;
        }

        .svg-container {
            width: 100%;
            height: auto;
            display: flex;
            justify-content: center;
            background: #000000;
        }

        svg {
            width: 100%;
            max-width: 800px;
            height: auto;
            display: block;
        }

        /* * ANIMATION ENGINE */
        .breathe {
            animation: breathe-anim 6s infinite ease-in-out;
            transform-origin: center;
        }
        @keyframes breathe-anim {
            0%, 100% { transform: scale(1); filter: drop-shadow(0 0 5px rgba(255,255,255,0.2)); }
            50% { transform: scale(1.02); filter: drop-shadow(0 0 20px rgba(255,255,255,0.5)); }
        }

        .pulse {
            animation: pulse-anim 4s infinite ease-in-out;
        }
        @keyframes pulse-anim {
            0%, 100% { r: 3; opacity: 0.5; }
            50% { r: 5; opacity: 1; stroke-width: 2px; }
        }

        /* * INTERACTION ENGINE */
        .sequence-item {
            cursor: pointer;
            transition: opacity 0.5s ease, transform 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            pointer-events: all;
        }

        /* Default State */
        .sequence-item text {
            transition: all 0.5s ease;
            opacity: 0.3; /* Dimmed further for contrast */
            fill: #555;
            /* Text Shadow for better legibility over the line */
            text-shadow: 0px 0px 5px rgba(0,0,0,1); 
        }
        
        .sequence-item circle {
            transition: all 0.5s ease;
            fill: #333;
            stroke: none;
        }

        /* Hide lines by default on mobile via opacity logic later, but style here */
        .sequence-item line {
            transition: all 0.5s ease;
            stroke: #333;
            stroke-width: 1;
        }

        /* Active State - High Specificity */
        svg .sequence-item.active text,
        svg .sequence-item:hover text,
        svg g.sequence-item.active text,
        svg g.sequence-item:hover text {
            fill: #FFFFFF !important;
            opacity: 1 !important;
            filter: drop-shadow(0 0 8px rgba(255, 255, 255, 0.9)) 
                    drop-shadow(0 0 25px rgba(255, 255, 255, 0.7))
                    drop-shadow(0 0 50px rgba(255, 255, 255, 0.4)) !important;
            letter-spacing: 0.05em;
        }
        
        svg .sequence-item.active circle,
        svg .sequence-item:hover circle,
        svg g.sequence-item.active circle,
        svg g.sequence-item:hover circle {
            fill: #FFFFFF !important;
            filter: drop-shadow(0 0 15px #FFF) drop-shadow(0 0 35px rgba(255,255,255,0.6)) !important;
        }
        
        svg .sequence-item.active line,
        svg .sequence-item:hover line,
        svg g.sequence-item.active line,
        svg g.sequence-item:hover line {
            stroke: #FFFFFF !important;
            stroke-width: 2 !important;
            filter: drop-shadow(0 0 12px rgba(255,255,255,0.7)) !important;
        }

        /* Fonts */
        .font-serif { font-family: 'Cinzel', serif; }
        .font-sans { font-family: 'Inter', sans-serif; letter-spacing: 0.05em; }
        
        .text-header { font-size: 60px; letter-spacing: 0.1em; font-weight: 700; }
        .text-subheader { font-size: 24px; letter-spacing: 0.2em; font-weight: 400; }
        .text-stage { font-size: 14px; letter-spacing: 0.3em; fill: #666; font-weight: 600; }
        .text-item { font-size: 20px; letter-spacing: 0.05em; font-weight: 400; }
        .text-item-bold { font-size: 28px; letter-spacing: -0.02em; font-weight: 700; }
        .text-footer { font-size: 24px; letter-spacing: 0.1em; }

        /* Footer Styles */
        .footer-text {
            transition: all 0.3s ease;
        }
        .footer-link {
            cursor: pointer;
        }
        .footer-email:hover .footer-link {
            fill: #FFFFFF !important;
            filter: drop-shadow(0 0 8px rgba(255,255,255,0.8)) drop-shadow(0 0 20px rgba(255,255,255,0.5));
        }
        #footer-group text:hover {
            fill: #FFFFFF !important;
            filter: drop-shadow(0 0 8px rgba(255,255,255,0.8)) drop-shadow(0 0 20px rgba(255,255,255,0.5));
        }

        /* Fixed Logo Styles */
        .fixed-logo {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1000;
            width: 50px;
            height: 50px;
            display: block;
            transition: transform 0.3s ease, filter 0.3s ease;
        }
        .fixed-logo:hover {
            transform: scale(1.1);
            filter: drop-shadow(0 0 10px rgba(255,255,255,0.6));
        }
        .logo-svg {
            width: 100%;
            height: 100%;
        }
        .logo-line {
            opacity: 0;
            animation: logo-draw 0.5s ease forwards;
        }
        .logo-line-1 { animation-delay: 0.2s; }
        .logo-line-2 { animation-delay: 0.5s; }
        .logo-line-3 { animation-delay: 0.8s; }
        @keyframes logo-draw {
            0% { opacity: 0; transform: translateX(-10px); }
            100% { opacity: 1; transform: translateX(0); }
        }

        .stage-line {
            stroke-dasharray: 10;
            animation: dash 60s linear infinite;
        }
        @keyframes dash {
            to { stroke-dashoffset: 1000; }
        }

        /* =========================================
           MOBILE OPTIMIZATION: CENTER & PENETRATE
           ========================================= */
        @media (max-width: 600px) {
            
            /* 1. Header Adjustment */
            .text-header { font-size: 60px; } 
            .text-subheader { font-size: 24px; letter-spacing: 0.1em; }
            
            /* 2. Axis Line - Visible but subtle */
            .axis-line {
                stroke-opacity: 0.4;
            }

            /* 3. Stage Title: Centered & Big */
            .text-stage {
                font-size: 32px;
                text-anchor: middle !important;
                transform: none !important; 
                fill: #888;
                font-weight: 800;
                letter-spacing: 0.1em;
            }
            .stage-line { display: none; }

            /* 4. Center Everything */
            .sequence-item circle { transform: none !important; }
            .sequence-item line { display: none; } /* Hide horizontal connectors */
            
            /* Force Text Center - CSS Override */
            .sequence-item text {
                text-anchor: middle !important;
                font-size: 42px !important;
                transform: none !important;
                /* Add background-like shadow to separate from line */
                paint-order: stroke fill;
                stroke: #050505;
                stroke-width: 6px;
                stroke-linecap: round;
                stroke-linejoin: round;
            }
            /* Reset Active Text Stroke (keep it white/glowy) */
            .sequence-item.active text {
                fill: #FFF !important;
                stroke: #050505; /* Keep stroke for contrast against line */
                stroke-width: 6px;
            }

            /* Disable Left/Right shifts from desktop logic */
            .left-side text, .right-side text, .center-side text {
                transform: none !important;
            }

            /* Footer */
            .text-footer { font-size: 24px !important; }
            
            /* Animation */
                transform: scale(1.05); 
                transition: transform 0.5s ease;
            }
        }
    </style>
</head>
<body>

<!-- Fixed Logo -->
<a href="/" class="fixed-logo" aria-label="RYTUNYN Home">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -6.8988 32 32" class="logo-svg">
        <g class="logo-line logo-line-1">
            <polygon points="28.5 0 13.3 0 11.8 2.2 26.9 2.2 28.5 0" fill="#FFFFFF"/>
        </g>
        <g class="logo-line logo-line-2">
            <polygon points="26.4 3 23.7 3 21 6.8 8.6 6.8 3.8 0 1.1 0 6.7 8 3.2 13 5.9 13 8.6 9.2 21 9.2 25.9 16 28.5 16 22.9 8 26.4 3" fill="#FFFFFF"/>
        </g>
        <g class="logo-line logo-line-3">
            <polygon points="1.1 16 16.3 16 17.8 13.8 2.7 13.8 1.1 16" fill="#FFFFFF"/>
        </g>
    </svg>
</a>

<div class="svg-container">
    <svg id="main-svg" viewBox="0 0 800 4200" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMin meet">
        
        <defs>
            <linearGradient id="grad-main" x1="0%" y1="0%" x2="0%" y2="100%">
                <stop offset="0%" style="stop-color:#000;stop-opacity:0"></stop>
                <stop offset="10%" style="stop-color:#FFF;stop-opacity:0.3"></stop>
                <stop offset="90%" style="stop-color:#FFF;stop-opacity:0.3"></stop>
                <stop offset="100%" style="stop-color:#000;stop-opacity:0"></stop>
            </linearGradient>
            <linearGradient id="grad-gold" x1="0%" y1="0%" x2="100%" y2="0%">
                <stop offset="0%" style="stop-color:#FFF;stop-opacity:0"></stop>
                <stop offset="50%" style="stop-color:#FFF;stop-opacity:1"></stop>
                <stop offset="100%" style="stop-color:#FFF;stop-opacity:0"></stop>
            </linearGradient>
            <!-- Glow filter for active elements -->
            <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
                <feGaussianBlur stdDeviation="4" result="coloredBlur"/>
                <feMerge>
                    <feMergeNode in="coloredBlur"/>
                    <feMergeNode in="coloredBlur"/>
                    <feMergeNode in="coloredBlur"/>
                    <feMergeNode in="SourceGraphic"/>
                </feMerge>
            </filter>
        </defs>

        <pattern id="grid" width="50" height="50" patternUnits="userSpaceOnUse">
            <rect width="1" height="1" fill="#222"></rect>
        </pattern>
        <rect width="100%" height="100%" fill="url(#grid)"></rect>

        <!-- Central Axis -->
        <line id="axis-line" class="axis-line" x1="400" y1="200" x2="400" y2="4000" stroke="url(#grad-main)" stroke-width="2"></line>

        <!-- HERO SECTION -->
        <g class="breathe">
            <text x="400" y="300" text-anchor="middle" fill="#FFFFFF" class="font-serif text-header">RYTUNYN</text>
            <text x="400" y="350" text-anchor="middle" fill="#FFFFFF" class="font-sans text-subheader">HAPPINESS ENGINEER</text>
            <line x1="200" y1="380" x2="600" y2="380" stroke="url(#grad-gold)" stroke-width="1"></line>
            <text x="400" y="410" text-anchor="middle" fill="#888888" font-size="16" class="font-sans text-stage center-side" letter-spacing="0.3em">THE ARCHITECT'S CANVAS</text>
        </g>

        <!-- Scroll Indicator -->
        <g class="center-side">
            <path d="M 400 500 L 400 550" stroke="#FFF" stroke-width="2" opacity="0.5"></path>
            <circle cx="400" cy="555" r="4" fill="#FFF" class="pulse"></circle>
        </g>

        <!-- STAGE 01 -->
        <g id="stage-1" transform="translate(0, 700)">
            <text x="400" y="-40" text-anchor="middle" class="font-sans text-stage">STAGE 01 : IDENTITY SHOCK</text>
            <line class="axis-line" x1="400" y1="-20" x2="400" y2="0" stroke="#FFF" stroke-width="1"></line>

            <g class="sequence-item left-side" data-index="1" data-y="50">
                <line x1="400" y1="50" x2="350" y2="50"></line>
                <circle cx="400" cy="50" r="3"></circle>
                <text x="340" y="58" text-anchor="end" class="font-sans text-item-bold">MIRROR PARADOX</text>
                <text x="340" y="110" text-anchor="end" class="font-sans text-item">AUTHENTICITY</text>
            </g>

            <g class="sequence-item right-side" data-index="2" data-y="150">
                <line x1="400" y1="150" x2="450" y2="150"></line>
                <circle cx="400" cy="150" r="3"></circle>
                <text x="460" y="158" text-anchor="start" class="font-sans text-item">DATA vs WISDOM</text>
            </g>

            <g class="sequence-item left-side" data-index="3" data-y="250">
                <line x1="400" y1="250" x2="350" y2="250"></line>
                <circle cx="400" cy="250" r="3"></circle>
                <text x="340" y="258" text-anchor="end" class="font-sans text-item">DIGITAL DYSMORPHIA</text>
            </g>

            <g class="sequence-item right-side" data-index="4" data-y="350">
                <line x1="400" y1="350" x2="450" y2="350"></line>
                <circle cx="400" cy="350" r="4"></circle>
                <text x="460" y="358" text-anchor="start" class="font-sans text-item-bold">MASTER'S SEAT</text>
            </g>

            <g class="sequence-item left-side" data-index="5" data-y="450">
                <line x1="400" y1="450" x2="350" y2="450"></line>
                <circle cx="400" cy="450" r="3"></circle>
                <text x="340" y="458" text-anchor="end" class="font-sans text-item">HUMAN SEMANTICS</text>
            </g>

            <g class="sequence-item center-side" data-index="6" data-y="550">
                <circle cx="400" cy="550" r="5"></circle>
                <text x="400" y="585" text-anchor="middle" class="font-sans text-item-bold" letter-spacing="0.2em">UNLEARNING</text>
            </g>
        </g>

        <!-- STAGE 02 -->
        <g id="stage-2" transform="translate(0, 1400)">
            <line x1="300" y1="-50" x2="500" y2="-50" stroke="#333" stroke-width="1" class="stage-line"></line>
            <text x="400" y="-30" text-anchor="middle" class="font-sans text-stage">STAGE 02 : COGNITIVE ENGINEERING</text>

            <g class="sequence-item right-side" data-index="7" data-y="50">
                <line x1="400" y1="50" x2="450" y2="50"></line>
                <circle cx="400" cy="50" r="3"></circle>
                <text x="460" y="58" text-anchor="start" class="font-sans text-item-bold">SYSTEM 1 &amp; 2</text>
            </g>

            <g class="sequence-item left-side" data-index="8" data-y="130">
                <line x1="400" y1="130" x2="350" y2="130"></line>
                <circle cx="400" cy="130" r="3"></circle>
                <text x="340" y="138" text-anchor="end" class="font-sans text-item">COGNITIVE EASE</text>
            </g>

            <g class="sequence-item right-side" data-index="9" data-y="210">
                <line x1="400" y1="210" x2="450" y2="210"></line>
                <circle cx="400" cy="210" r="3"></circle>
                <text x="460" y="218" text-anchor="start" class="font-sans text-item">FRAMING EFFECT</text>
            </g>

            <g class="sequence-item left-side" data-index="10" data-y="290">
                <line x1="400" y1="290" x2="350" y2="290"></line>
                <circle cx="400" cy="290" r="3"></circle>
                <text x="340" y="298" text-anchor="end" class="font-sans text-item-bold">LOSS AVERSION</text>
            </g>

            <g class="sequence-item right-side" data-index="11" data-y="370">
                <line x1="400" y1="370" x2="450" y2="370"></line>
                <circle cx="400" cy="370" r="3"></circle>
                <text x="460" y="378" text-anchor="start" class="font-sans text-item">ANCHORING</text>
            </g>

            <g class="sequence-item left-side" data-index="12" data-y="450">
                <line x1="400" y1="450" x2="350" y2="450"></line>
                <circle cx="400" cy="450" r="3"></circle>
                <text x="340" y="458" text-anchor="end" class="font-sans text-item">CURIOSITY GAP</text>
            </g>
            
            <g class="sequence-item center-side" data-index="13" data-y="550">
                <circle cx="400" cy="550" r="5"></circle>
                <text x="400" y="585" text-anchor="middle" class="font-sans text-item-bold">AVAILABILITY</text>
            </g>
        </g>

        <!-- STAGE 03 -->
        <g id="stage-3" transform="translate(0, 2100)">
            <line x1="300" y1="-50" x2="500" y2="-50" stroke="#333" stroke-width="1" class="stage-line"></line>
            <text x="400" y="-30" text-anchor="middle" class="font-sans text-stage">STAGE 03 : NARRATIVE ARCHITECTURE</text>

            <g class="sequence-item left-side" data-index="14" data-y="50">
                <line x1="400" y1="50" x2="350" y2="50"></line>
                <circle cx="400" cy="50" r="3"></circle>
                <text x="340" y="58" text-anchor="end" class="font-sans text-item-bold">ETHOS / PATHOS / LOGOS</text>
            </g>

            <g class="sequence-item right-side" data-index="15" data-y="130">
                <line x1="400" y1="130" x2="450" y2="130"></line>
                <circle cx="400" cy="130" r="3"></circle>
                <text x="460" y="138" text-anchor="start" class="font-sans text-item">STORY SPINE</text>
            </g>

            <g class="sequence-item left-side" data-index="16" data-y="210">
                <line x1="400" y1="210" x2="350" y2="210"></line>
                <circle cx="400" cy="210" r="3"></circle>
                <text x="340" y="218" text-anchor="end" class="font-sans text-item-bold">NEURAL COUPLING</text>
            </g>

            <g class="sequence-item right-side" data-index="17" data-y="290">
                <line x1="400" y1="290" x2="450" y2="290"></line>
                <circle cx="400" cy="290" r="3"></circle>
                <text x="460" y="298" text-anchor="start" class="font-sans text-item">65% NARRATIVE RULE</text>
            </g>

            <g class="sequence-item left-side" data-index="18" data-y="370">
                <line x1="400" y1="370" x2="350" y2="370"></line>
                <circle cx="400" cy="370" r="3"></circle>
                <text x="340" y="378" text-anchor="end" class="font-sans text-item">NEGATION OF NEGATION</text>
            </g>
            
             <g class="sequence-item center-side" data-index="19" data-y="470">
                <circle cx="400" cy="470" r="5"></circle>
                <text x="400" y="505" text-anchor="middle" class="font-sans text-item-bold">HERO'S JOURNEY</text>
            </g>
        </g>

        <!-- STAGE 04 -->
        <g id="stage-4" transform="translate(0, 2700)">
            <line x1="300" y1="-50" x2="500" y2="-50" stroke="#333" stroke-width="1" class="stage-line"></line>
            <text x="400" y="-30" text-anchor="middle" class="font-sans text-stage">STAGE 04 : MARKET &amp; INFLUENCE</text>

            <g class="sequence-item right-side" data-index="20" data-y="50">
                <line x1="400" y1="50" x2="450" y2="50"></line>
                <circle cx="400" cy="50" r="3"></circle>
                <text x="460" y="58" text-anchor="start" class="font-sans text-item-bold">SCARCITY</text>
            </g>

            <g class="sequence-item left-side" data-index="21" data-y="130">
                <line x1="400" y1="130" x2="350" y2="130"></line>
                <circle cx="400" cy="130" r="3"></circle>
                <text x="340" y="138" text-anchor="end" class="font-sans text-item">RECIPROCITY LOOP</text>
            </g>

            <g class="sequence-item right-side" data-index="22" data-y="210">
                <line x1="400" y1="210" x2="450" y2="210"></line>
                <circle cx="400" cy="210" r="3"></circle>
                <text x="460" y="218" text-anchor="start" class="font-sans text-item">SOCIAL PROOF</text>
            </g>

            <g class="sequence-item left-side" data-index="23" data-y="290">
                <line x1="400" y1="290" x2="350" y2="290"></line>
                <circle cx="400" cy="290" r="3"></circle>
                <text x="340" y="298" text-anchor="end" class="font-sans text-item-bold">VALUE VOTING</text>
            </g>
            
            <g class="sequence-item right-side" data-index="24" data-y="370">
                <line x1="400" y1="370" x2="450" y2="370"></line>
                <circle cx="400" cy="370" r="3"></circle>
                <text x="460" y="378" text-anchor="start" class="font-sans text-item">END OF RETIREMENT</text>
            </g>

            <g class="sequence-item center-side" data-index="25" data-y="470">
                <circle cx="400" cy="470" r="5"></circle>
                <text x="400" y="505" text-anchor="middle" class="font-sans text-item-bold">GIFT ECONOMY</text>
            </g>
        </g>

        <!-- STAGE 05 -->
        <g id="stage-5" transform="translate(0, 3300)">
            <line x1="300" y1="-50" x2="500" y2="-50" stroke="#333" stroke-width="1" class="stage-line"></line>
            <text x="400" y="-30" text-anchor="middle" class="font-sans text-stage">STAGE 05 : TRANSCENDENCE</text>

            <g class="sequence-item left-side" data-index="26" data-y="50">
                <line x1="400" y1="50" x2="350" y2="50"></line>
                <circle cx="400" cy="50" r="3"></circle>
                <text x="340" y="58" text-anchor="end" class="font-sans text-item">GHOST IN MACHINE</text>
            </g>

            <g class="sequence-item right-side" data-index="27" data-y="130">
                <line x1="400" y1="130" x2="450" y2="130"></line>
                <circle cx="400" cy="130" r="3"></circle>
                <text x="460" y="138" text-anchor="start" class="font-sans text-item-bold">DIGITAL IMMORTALITY</text>
            </g>

            <g class="sequence-item left-side" data-index="28" data-y="210">
                <line x1="400" y1="210" x2="350" y2="210"></line>
                <circle cx="400" cy="210" r="3"></circle>
                <text x="340" y="218" text-anchor="end" class="font-sans text-item">RATCHET EFFECT</text>
            </g>

            <g class="sequence-item right-side" data-index="29" data-y="290">
                <line x1="400" y1="290" x2="450" y2="290"></line>
                <circle cx="400" cy="290" r="3"></circle>
                <text x="460" y="298" text-anchor="start" class="font-sans text-item-bold">SENTIENCE</text>
            </g>
            
            <g class="sequence-item left-side" data-index="30" data-y="370">
                <line x1="400" y1="370" x2="350" y2="370"></line>
                <circle cx="400" cy="370" r="3"></circle>
                <text x="340" y="378" text-anchor="end" class="font-sans text-item">EXTENDED SELF</text>
            </g>

            <!-- FINAL NODE -->
            <g class="sequence-item center-side" transform="translate(0, 500)" data-index="31" data-y="500">
                <circle cx="400" cy="0" r="60" fill="none" stroke="#FFF" stroke-width="0.5" class="breathe"></circle>
                <circle cx="400" cy="0" r="50" fill="#111"></circle>
                <text x="400" y="5" text-anchor="middle" fill="#FFF" class="font-serif text-item-bold" font-size="20">HAPPINESS</text>
                <text x="400" y="45" text-anchor="middle" fill="#888" class="font-sans" font-size="14" letter-spacing="0.2em">NARRATIVE INTELLIGENCE</text>
            </g>
        </g>

        <!-- FOOTER -->
        <g id="footer-group" transform="translate(0, 4100)">
            <!-- Decorative Line -->
            <line x1="200" y1="0" x2="600" y2="0" stroke="url(#grad-gold)" stroke-width="1" opacity="0.6"></line>
            
            <!-- Copyright -->
            <text x="400" y="45" text-anchor="middle" fill="#555" font-size="11" class="font-sans footer-text" letter-spacing="0.15em">RYTUNYN 2026</text>
            
            <!-- Email Link -->
            <a href="mailto:rytunyn@rytunyn.com" class="footer-email">
                <text x="400" y="75" text-anchor="middle" fill="#666" font-size="10" class="font-sans footer-text footer-link" letter-spacing="0.1em">rytunyn@rytunyn.com</text>
            </a>
            
            <!-- Bottom decorative line -->
            <line x1="320" y1="100" x2="480" y2="100" stroke="#333" stroke-width="1" opacity="0.4"></line>
        </g>

    </svg>
</div>

<!-- GSAP & ScrollTrigger -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>

<script>
    document.addEventListener("DOMContentLoaded", () => {
        
        gsap.registerPlugin(ScrollTrigger);
        
        const items = document.querySelectorAll('.sequence-item');
        
        items.forEach(item => {
            const texts = item.querySelectorAll('text');
            const circles = item.querySelectorAll('circle');
            const lines = item.querySelectorAll('line');
            
            // Set initial state
            gsap.set(texts, { attr: { fill: '#555', opacity: 0.3 } });
            gsap.set(circles, { attr: { fill: '#333' } });
            gsap.set(lines, { attr: { stroke: '#333', 'stroke-width': 1 } });
            
            ScrollTrigger.create({
                trigger: item,
                start: "top 70%",
                end: "bottom 30%",
                onEnter: () => {
                    gsap.to(texts, { 
                        attr: { fill: '#FFFFFF', opacity: 1 }, 
                        duration: 0.4,
                        ease: "power2.out"
                    });
                    gsap.to(circles, { 
                        attr: { fill: '#FFFFFF' }, 
                        duration: 0.4,
                        ease: "power2.out"
                    });
                    gsap.to(lines, { 
                        attr: { stroke: '#FFFFFF', 'stroke-width': 2 }, 
                        duration: 0.4,
                        ease: "power2.out"
                    });
                    item.classList.add('active');
                },
                onLeave: () => {
                    gsap.to(texts, { 
                        attr: { fill: '#555', opacity: 0.3 }, 
                        duration: 0.4 
                    });
                    gsap.to(circles, { 
                        attr: { fill: '#333' }, 
                        duration: 0.4 
                    });
                    gsap.to(lines, { 
                        attr: { stroke: '#333', 'stroke-width': 1 }, 
                        duration: 0.4 
                    });
                    item.classList.remove('active');
                },
                onEnterBack: () => {
                    gsap.to(texts, { 
                        attr: { fill: '#FFFFFF', opacity: 1 }, 
                        duration: 0.4,
                        ease: "power2.out"
                    });
                    gsap.to(circles, { 
                        attr: { fill: '#FFFFFF' }, 
                        duration: 0.4,
                        ease: "power2.out"
                    });
                    gsap.to(lines, { 
                        attr: { stroke: '#FFFFFF', 'stroke-width': 2 }, 
                        duration: 0.4,
                        ease: "power2.out"
                    });
                    item.classList.add('active');
                },
                onLeaveBack: () => {
                    gsap.to(texts, { 
                        attr: { fill: '#555', opacity: 0.3 }, 
                        duration: 0.4 
                    });
                    gsap.to(circles, { 
                        attr: { fill: '#333' }, 
                        duration: 0.4 
                    });
                    gsap.to(lines, { 
                        attr: { stroke: '#333', 'stroke-width': 1 }, 
                        duration: 0.4 
                    });
                    item.classList.remove('active');
                }
            });
        });
        
        console.log('GSAP ScrollTrigger initialized. Items found:', items.length);

        /* 2. LAYOUT ENGINE (Mobile Centering) */
        function optimizeLayoutForMobile() {
            if (window.innerWidth <= 600) {
                console.log("Layout Engine: Applying Center Penetration for Mobile...");
                
                const svg = document.getElementById('main-svg');
                const axisLine = document.getElementById('axis-line');
                const footer = document.getElementById('footer-group');
                
                // Hyper-Spacing Configuration
                const MOBILE_ITEM_GAP = 400; // Large spacing to prevent overlap
                const MOBILE_STAGE_PAD = 600; 

                let currentY = 900; 

                const stages = [1, 2, 3, 4, 5];
                
                stages.forEach(stageNum => {
                    const stageGroup = document.getElementById(`stage-${stageNum}`);
                    if (!stageGroup) return;

                    // 1. Move Stage
                    stageGroup.setAttribute('transform', `translate(0, ${currentY})`);

                    // 2. Adjust items
                    const stageItems = stageGroup.querySelectorAll('.sequence-item');
                    let maxItemY = 0;

                    stageItems.forEach((item, index) => {
                        let newItemY;
                        
                        if (item.getAttribute('data-index') === '31') {
                            newItemY = (stageItems.length - 1) * MOBILE_ITEM_GAP + 200;
                        } else {
                            newItemY = 100 + (index * MOBILE_ITEM_GAP);
                        }

                        // Shift Y logic
                        const originalY = parseInt(item.getAttribute('data-y') || 0);
                        const shiftY = newItemY - originalY;
                        
                        // FORCE CENTER ALIGNMENT LOGIC
                        const textEls = item.querySelectorAll('text');
                        textEls.forEach(textEl => {
                            // Directly modify SVG attributes for strict centering
                            textEl.setAttribute('x', '400');
                            textEl.setAttribute('text-anchor', 'middle');
                        });

                        item.setAttribute('transform', `translate(0, ${shiftY})`);
                        
                        if (newItemY > maxItemY) maxItemY = newItemY;
                    });

                    currentY += maxItemY + MOBILE_STAGE_PAD;
                });

                footer.setAttribute('transform', `translate(0, ${currentY})`);

                const totalHeight = currentY + 500;
                axisLine.setAttribute('y2', totalHeight);
                svg.setAttribute('viewBox', `0 0 800 ${totalHeight}`);
            }
        }

        optimizeLayoutForMobile();
    });
</script>


</body></html>
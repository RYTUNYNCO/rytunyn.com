<html data-google-analytics-opt-out="" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport"/>
<link href="favicon.svg" rel="icon" type="image/svg+xml"/>
<title>RYTUNYN : ARCHITECT OF HAPPINESS</title>
<style>
        @import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Inter:wght@200;400;600;800&display=swap');

        /* * PURE CSS ARCHITECTURE - RESPONSIVE TIMELINE ENGINE 
         * Designed by Super-intelligent Narrative Intelligence
         */

        body,
        html {
            margin: 0;
            padding: 0;
            background-color: #050505;
            overflow-x: hidden;
            height: 100%;
            -webkit-tap-highlight-color: transparent;
            touch-action: pan-y;
            /* 모바일 터치 스크롤 방향 명시 */
        }

        #bg-svg {
            position: fixed;
            inset: 0;
            width: 100vw;
            height: 100vh;
            display: block;
            z-index: 0;
            pointer-events: none;
            opacity: 0.2;
        }

        .matrix-stream {
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-weight: 600;
            fill: #00F0FF;
            font-size: 16px;
            writing-mode: vertical-rl;
            text-orientation: upright;
            user-select: none;
            opacity: 0.8;
            text-shadow: 0 0 5px rgba(0, 240, 255, 0.4), 0 0 10px rgba(0, 240, 255, 0.2);
        }

        .svg-container {
            width: 100%;
            height: auto;
            display: flex;
            justify-content: center;
            background: transparent;
            overflow: visible;
            position: relative;
            z-index: 1;
        }

        svg {
            width: 100vw;
            max-width: none;
            height: auto;
            display: block;
            overflow: visible;
        }

        #main-svg {
            overflow: visible;
        }

        /* * ANIMATION ENGINE */
        .breathe {
            animation: breathe-anim 6s infinite ease-in-out;
            transform-origin: center;
        }

        @keyframes breathe-anim {

            0%,
            100% {
                transform: scale(1);
                filter: drop-shadow(0 0 5px rgba(255, 255, 255, 0.2));
            }

            50% {
                transform: scale(1.006);
                filter: drop-shadow(0 0 12px rgba(255, 255, 255, 0.4));
            }
        }


        .flow-line {
            stroke: #FFF;
            stroke-width: 1;
            opacity: 0.75;
            stroke-linecap: round;
            filter: drop-shadow(0 0 6px rgba(255, 255, 255, 0.35));
            animation: flow-fade 2s ease-in-out infinite;
            transform-origin: center;
        }


        @keyframes flow-fade {
            0% {
                opacity: 0;
            }
            25% {
                opacity: 0.6;
            }
            50% {
                opacity: 0.9;
            }
            75% {
                opacity: 0.6;
            }
            100% {
                opacity: 0;
            }
        }


        @keyframes fall {
            from {
                transform: translateY(-100%);
            }
            to {
                transform: translateY(110vh);
            }
        }

        /* * INTERACTION ENGINE */
        .sequence-item {
            cursor: pointer;
            transition: opacity 0.5s ease, transform 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            pointer-events: all;
        }

        /* Default State */
        .sequence-item text {
            transition: all 0.5s ease;
            opacity: 0.3;
            /* Dimmed further for contrast */
            fill: #555;
            /* Text Shadow for better legibility over the line */
            text-shadow: 0px 0px 5px rgba(0, 0, 0, 1);
        }

        .sequence-item circle {
            transition: all 0.5s ease;
            fill: #333;
            stroke: none;
        }

        /* Hide lines by default on mobile via opacity logic later, but style here */
        .sequence-item line {
            transition: all 0.5s ease;
            stroke: #333;
            stroke-width: 1;
        }

        /* Active State - High Specificity */
        svg .sequence-item.active text,
        svg .sequence-item:hover text,
        svg g.sequence-item.active text,
        svg g.sequence-item:hover text {
            fill: #FFFFFF !important;
            opacity: 1 !important;
            filter: drop-shadow(0 0 8px rgba(255, 255, 255, 0.9)) drop-shadow(0 0 25px rgba(255, 255, 255, 0.7)) drop-shadow(0 0 50px rgba(255, 255, 255, 0.4)) !important;
            letter-spacing: 0.05em;
        }

        svg .sequence-item.active circle,
        svg .sequence-item:hover circle,
        svg g.sequence-item.active circle,
        svg g.sequence-item:hover circle {
            fill: #FFFFFF !important;
            filter: drop-shadow(0 0 15px #FFF) drop-shadow(0 0 35px rgba(255, 255, 255, 0.6)) !important;
        }

        svg .sequence-item.active line,
        svg .sequence-item:hover line,
        svg g.sequence-item.active line,
        svg g.sequence-item:hover line {
            stroke: #FFFFFF !important;
            stroke-width: 2 !important;
            filter: drop-shadow(0 0 12px rgba(255, 255, 255, 0.7)) !important;
        }

        /* Stage Title Active State */
        .text-stage.active {
            fill: #FFFFFF !important;
            opacity: 1 !important;
            filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.9)) drop-shadow(0 0 30px rgba(255, 255, 255, 0.7)) drop-shadow(0 0 60px rgba(255, 255, 255, 0.5)) !important;
            transition: all 0.3s ease;
        }

        /* Fonts */
        .font-serif {
            font-family: 'Cinzel', serif;
        }

        .font-sans {
            font-family: 'Inter', sans-serif;
            letter-spacing: 0.05em;
        }

        .text-header {
            font-size: clamp(20px, 3vw, 30px);
            letter-spacing: 0.1em;
            font-weight: 700;
        }

        .text-subheader {
            font-size: clamp(10px, 1.2vw, 14px);
            letter-spacing: 0.2em;
            font-weight: 400;
        }

        .text-stage {
            font-size: clamp(8px, 0.95vw, 10px);
            letter-spacing: 0.3em;
            fill: #666;
            font-weight: 600;
        }

        .text-item {
            font-size: clamp(9px, 1.1vw, 12px);
            letter-spacing: 0.05em;
            font-weight: 400;
        }

        .text-item-bold {
            font-size: clamp(10px, 1.4vw, 15px);
            letter-spacing: -0.02em;
            font-weight: 700;
        }

        .text-footer {
            font-size: clamp(10px, 1.2vw, 14px);
            letter-spacing: 0.1em;
        }

        /* Footer Styles */
        .footer-text {
            transition: all 0.3s ease;
        }

        .footer-link {
            cursor: pointer;
        }

        .footer-email:hover .footer-link {
            fill: #FFFFFF !important;
            filter: drop-shadow(0 0 8px rgba(255, 255, 255, 0.8)) drop-shadow(0 0 20px rgba(255, 255, 255, 0.5));
        }

        #footer-group text:hover {
            fill: #FFFFFF !important;
            filter: drop-shadow(0 0 8px rgba(255, 255, 255, 0.8)) drop-shadow(0 0 20px rgba(255, 255, 255, 0.5));
        }

        /* Fixed Logo Styles */
        .fixed-logo {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1000;
            width: 50px;
            height: 50px;
            display: block;
            transition: transform 0.3s ease, filter 0.3s ease;
        }

        .fixed-logo:hover {
            transform: scale(1.1);
            filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.6));
        }

        .lang-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            background: rgba(0, 0, 0, 0.55);
            color: #FFF;
            border: 1px solid rgba(255, 255, 255, 0.35);
            border-radius: 999px;
            padding: 8px 14px;
            font-family: 'Inter', sans-serif;
            font-size: 12px;
            letter-spacing: 0.12em;
            text-transform: uppercase;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(6px);
        }

        .lang-toggle:hover {
            border-color: rgba(255, 255, 255, 0.7);
            box-shadow: 0 0 12px rgba(255, 255, 255, 0.2);
        }

        .logo-svg {
            width: 100%;
            height: 100%;
        }

        .logo-line {
            opacity: 0;
            animation: logo-draw 0.5s ease forwards;
        }

        .logo-line-1 {
            animation-delay: 0.2s;
        }

        .logo-line-2 {
            animation-delay: 0.5s;
        }

        .logo-line-3 {
            animation-delay: 0.8s;
        }

        @keyframes logo-draw {
            0% {
                opacity: 0;
                transform: translateX(-10px);
            }

            100% {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .stage-line {
            stroke-dasharray: 10;
            animation: dash 60s linear infinite;
        }

        @keyframes dash {
            to {
                stroke-dashoffset: 1000;
            }
        }

        /* =========================================
           MOBILE OPTIMIZATION: CENTER & PENETRATE
           ========================================= */
        @media (max-width: 600px) {

            /* 1. Header Adjustment */
            .text-header {
                font-size: 60px;
            }

            .text-subheader {
                font-size: 24px;
                letter-spacing: 0.1em;
            }

            /* 2. Axis Line - Visible but subtle */
            .axis-line {
                stroke-opacity: 0.4;
            }

            /* 3. Stage Title: Centered & Big */
            .text-stage {
                font-size: 32px;
                text-anchor: middle !important;
                transform: none !important;
                fill: #888;
                font-weight: 800;
                letter-spacing: 0.1em;
            }

            .stage-line {
                display: none;
            }

            /* 4. Center Everything */
            .sequence-item circle {
                transform: none !important;
            }

            .sequence-item line {
                display: none;
            }

            .flow-line {
                stroke-width: 1.6;
            }

            /* Force Text Center - Same style as PC */
            .sequence-item text {
                text-anchor: middle !important;
                font-size: 42px !important;
                transform: none !important;
            }

            /* Disable Left/Right shifts from desktop logic */
            .left-side text,
            .right-side text,
            .center-side text {
                transform: none !important;
            }

            /* Footer */
            .text-footer {
                font-size: 24px !important;
            }

            /* Footer email and copyright - larger for mobile */
            #footer-group text {
                font-size: 28px !important;
            }

            /* 모바일 로고 크기 축소 */
            .fixed-logo {
                width: 35px;
                height: 35px;
                top: 12px;
                left: 12px;
            }

            .lang-toggle {
                top: 12px;
                right: 12px;
                font-size: 11px;
                padding: 6px 12px;
            }
        }
    </style>
</head>
<body>
<svg id="bg-svg" xmlns="http://www.w3.org/2000/svg"></svg>
<!-- Fixed Logo -->
<a aria-label="RYTUNYN Home" class="fixed-logo" href="/">
<svg class="logo-svg" viewbox="0 -6.8988 32 32" xmlns="http://www.w3.org/2000/svg">
<g class="logo-line logo-line-1">
<polygon fill="#FFFFFF" points="28.5 0 13.3 0 11.8 2.2 26.9 2.2 28.5 0"></polygon>
</g>
<g class="logo-line logo-line-2">
<polygon fill="#FFFFFF" points="26.4 3 23.7 3 21 6.8 8.6 6.8 3.8 0 1.1 0 6.7 8 3.2 13 5.9 13 8.6 9.2 21 9.2 25.9 16 28.5 16 22.9 8 26.4 3">
</polygon>
</g>
<g class="logo-line logo-line-3">
<polygon fill="#FFFFFF" points="1.1 16 16.3 16 17.8 13.8 2.7 13.8 1.1 16"></polygon>
</g>
</svg>
</a>
<button class="lang-toggle" id="lang-toggle" type="button" aria-label="Toggle language">KR</button>
<div class="svg-container">
<svg id="main-svg" preserveaspectratio="xMidYMin meet" viewbox="0 0 1000 13550" xmlns="http://www.w3.org/2000/svg">
<defs>
<lineargradient id="grad-main" x1="0%" x2="0%" y1="0%" y2="100%">
<stop offset="0%" style="stop-color:#000;stop-opacity:0"></stop>
<stop offset="10%" style="stop-color:#FFF;stop-opacity:0.3"></stop>
<stop offset="90%" style="stop-color:#FFF;stop-opacity:0.3"></stop>
<stop offset="100%" style="stop-color:#000;stop-opacity:0"></stop>
</lineargradient>
<lineargradient id="grad-gold" x1="0%" x2="100%" y1="0%" y2="0%">
<stop offset="0%" style="stop-color:#FFF;stop-opacity:0"></stop>
<stop offset="50%" style="stop-color:#FFF;stop-opacity:1"></stop>
<stop offset="100%" style="stop-color:#FFF;stop-opacity:0"></stop>
</lineargradient>
<lineargradient id="grad-flow" x1="0%" x2="0%" y1="0%" y2="100%">
<stop offset="0%" style="stop-color:#FFF;stop-opacity:0.05"></stop>
<stop offset="45%" style="stop-color:#FFF;stop-opacity:0.35"></stop>
<stop offset="55%" style="stop-color:#FFF;stop-opacity:0.35"></stop>
<stop offset="100%" style="stop-color:#FFF;stop-opacity:0.05"></stop>
</lineargradient>
<!-- Glow filter for active elements -->
<filter height="200%" id="glow" width="200%" x="-50%" y="-50%">
<fegaussianblur result="coloredBlur" stddeviation="4"></fegaussianblur>
<femerge>
<femergenode in="coloredBlur"></femergenode>
<femergenode in="coloredBlur"></femergenode>
<femergenode in="coloredBlur"></femergenode>
<femergenode in="SourceGraphic"></femergenode>
</femerge>
</filter>
</defs>
<pattern height="50" id="grid" patternunits="userSpaceOnUse" width="50">
<rect fill="#222" height="1" width="1"></rect>
</pattern>
<rect fill="url(#grid)" height="100%" width="100%"></rect>
<!-- Central Axis -->
<line class="axis-line" id="axis-line" stroke="url(#grad-main)" stroke-width="2" x1="500" x2="500" y1="200" y2="13450"></line>
<!-- HERO SECTION -->
<g class="breathe">
<text class="font-serif text-header" fill="#FFFFFF" text-anchor="middle" x="500" y="300">RYTUNYN</text>
<text class="font-sans text-subheader" fill="#FFFFFF" text-anchor="middle" x="500" y="350">HAPPINESS
                    ENGINEER</text>
<line stroke="url(#grad-gold)" stroke-width="1" x1="300" x2="700" y1="380" y2="380"></line>
<text class="font-sans text-stage center-side" fill="#888888" font-size="16" letter-spacing="0.3em" text-anchor="middle" x="500" y="410">THE ARCHITECT'S CANVAS</text>
</g>
<!-- Scroll Indicator -->
<g class="center-side">
<path d="M 500 500 L 500 550" opacity="0.5" stroke="#FFF" stroke-width="2"></path>
</g>
<!-- STAGE 01 -->
<!-- STAGE 02 -->
<!-- STAGE 03 -->
<!-- STAGE 04 -->
<!-- STAGE 05 -->
<!-- FOOTER -->
<g class="sequence-item center-side" data-index="106" data-y="12150" transform="translate(0, 12150)">
<circle class="breathe" cx="500" cy="0" fill="none" r="60" stroke="#FFF" stroke-width="0.5"></circle>
<circle cx="500" cy="0" fill="#111" r="50"></circle>
<text class="font-serif text-item-bold" fill="#FFF" font-size="20" text-anchor="middle" x="500" y="5">HAPPINESS</text>
</g>





<g class="sequence-item center-side" data-index="106" data-y="12150" transform="translate(0, 12150)">
<circle class="breathe" cx="500" cy="0" fill="none" r="60" stroke="#FFF" stroke-width="0.5"></circle>
<circle cx="500" cy="0" fill="#111" r="50"></circle>
<text class="font-serif text-item-bold" fill="#FFF" font-size="20" text-anchor="middle" x="500" y="5">HAPPINESS</text>
</g>

<g id="stage-1" transform="translate(0, 700)">
<g class="sequence-item left-side" data-index="1" data-y="50">
<line x1="500" x2="450" y1="50" y2="50"></line>
<circle cx="500" cy="50" r="4"></circle>
<text class="font-sans text-item-bold" text-anchor="end" x="440" y="58"><tspan dy="0" x="440">Shattering the Algorithmic</tspan><tspan dy="1.2em" x="440">Illusion to Reclaim the Throne</tspan></text>
</g>
<g class="sequence-item right-side" data-index="2" data-y="150">
<line x1="500" x2="550" y1="150" y2="150"></line>
<circle cx="500" cy="150" r="3"></circle>
<text class="font-sans text-item" text-anchor="start" x="560" y="158">The Unforgiving Mirror</text>
</g>
<g class="sequence-item left-side" data-index="3" data-y="250">
<line x1="500" x2="450" y1="250" y2="250"></line>
<circle cx="500" cy="250" r="3"></circle>
<text class="font-sans text-item" text-anchor="end" x="440" y="258">The Burden of Judgment</text>
</g>
<g class="sequence-item right-side" data-index="4" data-y="350">
<line x1="500" x2="550" y1="350" y2="350"></line>
<circle cx="500" cy="350" r="3"></circle>
<text class="font-sans text-item" text-anchor="start" x="560" y="358">The Ghost in the Machine</text>
</g>
<g class="sequence-item left-side" data-index="5" data-y="450">
<line x1="500" x2="450" y1="450" y2="450"></line>
<circle cx="500" cy="450" r="3"></circle>
<text class="font-sans text-item" text-anchor="end" x="440" y="458">Reclaiming the Throne</text>
</g>
<g class="sequence-item right-side" data-index="6" data-y="550">
<line x1="500" x2="550" y1="550" y2="550"></line>
<circle cx="500" cy="550" r="4"></circle>
<text class="font-sans text-item-bold" text-anchor="start" x="560" y="558">The Semantic Monopoly</text>
</g>
<g class="sequence-item left-side" data-index="7" data-y="650">
<line x1="500" x2="450" y1="650" y2="650"></line>
<circle cx="500" cy="650" r="3"></circle>
<text class="font-sans text-item" text-anchor="end" x="440" y="658">The Art of Unlearning</text>
</g>
<g class="sequence-item right-side" data-index="8" data-y="750">
<line x1="500" x2="550" y1="750" y2="750"></line>
<circle cx="500" cy="750" r="3"></circle>
<text class="font-sans text-item" text-anchor="start" x="560" y="758">Breaking the Attention Trap</text>
</g>
<g class="sequence-item left-side" data-index="9" data-y="850">
<line x1="500" x2="450" y1="850" y2="850"></line>
<circle cx="500" cy="850" r="3"></circle>
<text class="font-sans text-item" text-anchor="end" x="440" y="858">Escaping the Strange Loop</text>
</g>
<g class="sequence-item right-side" data-index="10" data-y="950">
<line x1="500" x2="550" y1="950" y2="950"></line>
<circle cx="500" cy="950" r="3"></circle>
<text class="font-sans text-item" text-anchor="start" x="560" y="958">The Irreplaceable Core</text>
</g>
<g class="sequence-item left-side" data-index="11" data-y="1050">
<line x1="500" x2="450" y1="1050" y2="1050"></line>
<circle cx="500" cy="1050" r="4"></circle>
<text class="font-sans text-item-bold" text-anchor="end" x="440" y="1058">The Authority of Choice</text>
</g>
<g class="sequence-item right-side" data-index="12" data-y="1150">
<line x1="500" x2="550" y1="1150" y2="1150"></line>
<circle cx="500" cy="1150" r="3"></circle>
<text class="font-sans text-item" text-anchor="start" x="560" y="1158">The Truth Filter</text>
</g>
<g class="sequence-item left-side" data-index="13" data-y="1250">
<line x1="500" x2="450" y1="1250" y2="1250"></line>
<circle cx="500" cy="1250" r="3"></circle>
<text class="font-sans text-item" text-anchor="end" x="440" y="1258">Transcending Syntax</text>
</g>
<g class="sequence-item right-side" data-index="14" data-y="1350">
<line x1="500" x2="550" y1="1350" y2="1350"></line>
<circle cx="500" cy="1350" r="3"></circle>
<text class="font-sans text-item" text-anchor="start" x="560" y="1358">The Weight of Ethics</text>
</g>
<g class="sequence-item left-side" data-index="15" data-y="1450">
<line x1="500" x2="450" y1="1450" y2="1450"></line>
<circle cx="500" cy="1450" r="3"></circle>
<text class="font-sans text-item" text-anchor="end" x="440" y="1458">Sovereign Identity</text>
</g>
<g class="sequence-item right-side" data-index="16" data-y="1550">
<line x1="500" x2="550" y1="1550" y2="1550"></line>
<circle cx="500" cy="1550" r="4"></circle>
<text class="font-sans text-item-bold" text-anchor="start" x="560" y="1558">The Pact of Responsibility</text>
</g>
<g class="sequence-item left-side" data-index="17" data-y="1650">
<line x1="500" x2="450" y1="1650" y2="1650"></line>
<circle cx="500" cy="1650" r="3"></circle>
<text class="font-sans text-item" text-anchor="end" x="440" y="1658">Attention Sovereignty</text>
</g>
<g class="sequence-item right-side" data-index="18" data-y="1750">
<line x1="500" x2="550" y1="1750" y2="1750"></line>
<circle cx="500" cy="1750" r="3"></circle>
<text class="font-sans text-item" text-anchor="start" x="560" y="1758">The Human Bridge</text>
</g>
<g class="sequence-item left-side" data-index="19" data-y="1850">
<line x1="500" x2="450" y1="1850" y2="1850"></line>
<circle cx="500" cy="1850" r="3"></circle>
<text class="font-sans text-item" text-anchor="end" x="440" y="1858">Beyond Utility</text>
</g>
<g class="sequence-item right-side" data-index="20" data-y="1950">
<line x1="500" x2="550" y1="1950" y2="1950"></line>
<circle cx="500" cy="1950" r="3"></circle>
<text class="font-sans text-item" text-anchor="start" x="560" y="1958">The Compass of Values</text>
</g>
<g class="sequence-item left-side" data-index="21" data-y="2050">
<line x1="500" x2="450" y1="2050" y2="2050"></line>
<circle cx="500" cy="2050" r="4"></circle>
<text class="font-sans text-item-bold" text-anchor="end" x="440" y="2058">The Tacit Bond</text>
</g>
</g><g id="stage-2" transform="translate(0, 3150)">
<g class="sequence-item right-side" data-index="22" data-y="50">
<line x1="500" x2="550" y1="50" y2="50"></line>
<circle cx="500" cy="50" r="4"></circle>
<text class="font-sans text-item-bold" text-anchor="start" x="560" y="58"><tspan dy="0" x="560">From Cog to Architect:</tspan><tspan dy="1.2em" x="560">Commanding the Digital</tspan><tspan dy="1.2em" x="560">Emissary</tspan></text>
</g>
<g class="sequence-item left-side" data-index="23" data-y="150">
<line x1="500" x2="450" y1="150" y2="150"></line>
<circle cx="500" cy="150" r="3"></circle>
<text class="font-sans text-item" text-anchor="end" x="440" y="158">From Cog to Architect</text>
</g>
<g class="sequence-item right-side" data-index="24" data-y="250">
<line x1="500" x2="550" y1="250" y2="250"></line>
<circle cx="500" cy="250" r="3"></circle>
<text class="font-sans text-item" text-anchor="start" x="560" y="258">The Executive Loop</text>
</g>
<g class="sequence-item left-side" data-index="25" data-y="350">
<line x1="500" x2="450" y1="350" y2="350"></line>
<circle cx="500" cy="350" r="3"></circle>
<text class="font-sans text-item" text-anchor="end" x="440" y="358">The Asymmetric Leverage</text>
</g>
<g class="sequence-item right-side" data-index="26" data-y="450">
<line x1="500" x2="550" y1="450" y2="450"></line>
<circle cx="500" cy="450" r="3"></circle>
<text class="font-sans text-item" text-anchor="start" x="560" y="458">The Intuitive Edge</text>
</g>
<g class="sequence-item left-side" data-index="27" data-y="550">
<line x1="500" x2="450" y1="550" y2="550"></line>
<circle cx="500" cy="550" r="4"></circle>
<text class="font-sans text-item-bold" text-anchor="end" x="440" y="558">Commanding the Emissary</text>
</g>
<g class="sequence-item right-side" data-index="28" data-y="650">
<line x1="500" x2="550" y1="650" y2="650"></line>
<circle cx="500" cy="650" r="3"></circle>
<text class="font-sans text-item" text-anchor="start" x="560" y="658">Calculated Risk</text>
</g>
<g class="sequence-item left-side" data-index="29" data-y="750">
<line x1="500" x2="450" y1="750" y2="750"></line>
<circle cx="500" cy="750" r="3"></circle>
<text class="font-sans text-item" text-anchor="end" x="440" y="758">The Modern Polymath</text>
</g>
<g class="sequence-item right-side" data-index="30" data-y="850">
<line x1="500" x2="550" y1="850" y2="850"></line>
<circle cx="500" cy="850" r="3"></circle>
<text class="font-sans text-item" text-anchor="start" x="560" y="858">Buying Back Time</text>
</g>
<g class="sequence-item left-side" data-index="31" data-y="950">
<line x1="500" x2="450" y1="950" y2="950"></line>
<circle cx="500" cy="950" r="3"></circle>
<text class="font-sans text-item" text-anchor="end" x="440" y="958">Building Digital Fortresses</text>
</g>
<g class="sequence-item right-side" data-index="32" data-y="1050">
<line x1="500" x2="550" y1="1050" y2="1050"></line>
<circle cx="500" cy="1050" r="4"></circle>
<text class="font-sans text-item-bold" text-anchor="start" x="560" y="1058">Unleashing the Creator</text>
</g>
<g class="sequence-item left-side" data-index="33" data-y="1150">
<line x1="500" x2="450" y1="1150" y2="1150"></line>
<circle cx="500" cy="1150" r="3"></circle>
<text class="font-sans text-item" text-anchor="end" x="440" y="1158">Cognitive Offloading</text>
</g>
<g class="sequence-item right-side" data-index="34" data-y="1250">
<line x1="500" x2="550" y1="1250" y2="1250"></line>
<circle cx="500" cy="1250" r="3"></circle>
<text class="font-sans text-item" text-anchor="start" x="560" y="1258">Automating the Mundane</text>
</g>
<g class="sequence-item left-side" data-index="35" data-y="1350">
<line x1="500" x2="450" y1="1350" y2="1350"></line>
<circle cx="500" cy="1350" r="3"></circle>
<text class="font-sans text-item" text-anchor="end" x="440" y="1358">The Engine of Execution</text>
</g>
<g class="sequence-item right-side" data-index="36" data-y="1450">
<line x1="500" x2="550" y1="1450" y2="1450"></line>
<circle cx="500" cy="1450" r="3"></circle>
<text class="font-sans text-item" text-anchor="start" x="560" y="1458">The Authentic Voice</text>
</g>
<g class="sequence-item left-side" data-index="37" data-y="1550">
<line x1="500" x2="450" y1="1550" y2="1550"></line>
<circle cx="500" cy="1550" r="4"></circle>
<text class="font-sans text-item-bold" text-anchor="end" x="440" y="1558">Mapping Meaning</text>
</g>
<g class="sequence-item right-side" data-index="38" data-y="1650">
<line x1="500" x2="550" y1="1650" y2="1650"></line>
<circle cx="500" cy="1650" r="3"></circle>
<text class="font-sans text-item" text-anchor="start" x="560" y="1658">The Bias for Action</text>
</g>
<g class="sequence-item left-side" data-index="39" data-y="1750">
<line x1="500" x2="450" y1="1750" y2="1750"></line>
<circle cx="500" cy="1750" r="3"></circle>
<text class="font-sans text-item" text-anchor="end" x="440" y="1758">Proactive Framing</text>
</g>
<g class="sequence-item right-side" data-index="40" data-y="1850">
<line x1="500" x2="550" y1="1850" y2="1850"></line>
<circle cx="500" cy="1850" r="3"></circle>
<text class="font-sans text-item" text-anchor="start" x="560" y="1858">The Mirror's Reflection</text>
</g>
<g class="sequence-item left-side" data-index="41" data-y="1950">
<line x1="500" x2="450" y1="1950" y2="1950"></line>
<circle cx="500" cy="1950" r="3"></circle>
<text class="font-sans text-item" text-anchor="end" x="440" y="1958">Liberating Constraints</text>
</g>
<g class="sequence-item right-side" data-index="42" data-y="2050">
<line x1="500" x2="550" y1="2050" y2="2050"></line>
<circle cx="500" cy="2050" r="4"></circle>
<text class="font-sans text-item-bold" text-anchor="start" x="560" y="2058">The Data Ratchet</text>
</g>
</g><g id="stage-3" transform="translate(0, 5600)">
<g class="sequence-item left-side" data-index="43" data-y="50">
<line x1="500" x2="450" y1="50" y2="50"></line>
<circle cx="500" cy="50" r="4"></circle>
<text class="font-sans text-item-bold" text-anchor="end" x="440" y="58"><tspan dy="0" x="440">Recovering Humanity Through</tspan><tspan dy="1.2em" x="440">Radical Connection</tspan></text>
</g>
<g class="sequence-item right-side" data-index="44" data-y="150">
<line x1="500" x2="550" y1="150" y2="150"></line>
<circle cx="500" cy="150" r="3"></circle>
<text class="font-sans text-item" text-anchor="start" x="560" y="158">Resonance Over Connection</text>
</g>
<g class="sequence-item left-side" data-index="45" data-y="250">
<line x1="500" x2="450" y1="250" y2="250"></line>
<circle cx="500" cy="250" r="3"></circle>
<text class="font-sans text-item" text-anchor="end" x="440" y="258">Shared Intentionality</text>
</g>
<g class="sequence-item right-side" data-index="46" data-y="350">
<line x1="500" x2="550" y1="350" y2="350"></line>
<circle cx="500" cy="350" r="3"></circle>
<text class="font-sans text-item" text-anchor="start" x="560" y="358">The Emotional Texture</text>
</g>
<g class="sequence-item left-side" data-index="47" data-y="450">
<line x1="500" x2="450" y1="450" y2="450"></line>
<circle cx="500" cy="450" r="3"></circle>
<text class="font-sans text-item" text-anchor="end" x="440" y="458">Objectivity via the Other</text>
</g>
<g class="sequence-item right-side" data-index="48" data-y="550">
<line x1="500" x2="550" y1="550" y2="550"></line>
<circle cx="500" cy="550" r="4"></circle>
<text class="font-sans text-item-bold" text-anchor="start" x="560" y="558">The Narrative Continuity</text>
</g>
<g class="sequence-item left-side" data-index="49" data-y="650">
<line x1="500" x2="450" y1="650" y2="650"></line>
<circle cx="500" cy="650" r="3"></circle>
<text class="font-sans text-item" text-anchor="end" x="440" y="658">The Privilege of Failure</text>
</g>
<g class="sequence-item right-side" data-index="50" data-y="750">
<line x1="500" x2="550" y1="750" y2="750"></line>
<circle cx="500" cy="750" r="3"></circle>
<text class="font-sans text-item" text-anchor="start" x="560" y="758">Defying the Algorithm</text>
</g>
<g class="sequence-item left-side" data-index="51" data-y="850">
<line x1="500" x2="450" y1="850" y2="850"></line>
<circle cx="500" cy="850" r="3"></circle>
<text class="font-sans text-item" text-anchor="end" x="440" y="858">Soul-to-Soul Resonance</text>
</g>
<g class="sequence-item right-side" data-index="52" data-y="950">
<line x1="500" x2="550" y1="950" y2="950"></line>
<circle cx="500" cy="950" r="3"></circle>
<text class="font-sans text-item" text-anchor="start" x="560" y="958">Visualizing the Inner Self</text>
</g>
<g class="sequence-item left-side" data-index="53" data-y="1050">
<line x1="500" x2="450" y1="1050" y2="1050"></line>
<circle cx="500" cy="1050" r="4"></circle>
<text class="font-sans text-item-bold" text-anchor="end" x="440" y="1058">The Timeless Narrative</text>
</g>
<g class="sequence-item right-side" data-index="54" data-y="1150">
<line x1="500" x2="550" y1="1150" y2="1150"></line>
<circle cx="500" cy="1150" r="3"></circle>
<text class="font-sans text-item" text-anchor="start" x="560" y="1158">Intelligence Embodied</text>
</g>
<g class="sequence-item left-side" data-index="55" data-y="1250">
<line x1="500" x2="450" y1="1250" y2="1250"></line>
<circle cx="500" cy="1250" r="3"></circle>
<text class="font-sans text-item" text-anchor="end" x="440" y="1258">Restoring Soft Fascination</text>
</g>
<g class="sequence-item right-side" data-index="56" data-y="1350">
<line x1="500" x2="550" y1="1350" y2="1350"></line>
<circle cx="500" cy="1350" r="3"></circle>
<text class="font-sans text-item" text-anchor="start" x="560" y="1358">The Intuitive Processor</text>
</g>
<g class="sequence-item left-side" data-index="57" data-y="1450">
<line x1="500" x2="450" y1="1450" y2="1450"></line>
<circle cx="500" cy="1450" r="3"></circle>
<text class="font-sans text-item" text-anchor="end" x="440" y="1458">Strategic Idleness</text>
</g>
<g class="sequence-item right-side" data-index="58" data-y="1550">
<line x1="500" x2="550" y1="1550" y2="1550"></line>
<circle cx="500" cy="1550" r="4"></circle>
<text class="font-sans text-item-bold" text-anchor="start" x="560" y="1558">The Human Tempo</text>
</g>
<g class="sequence-item left-side" data-index="59" data-y="1650">
<line x1="500" x2="450" y1="1650" y2="1650"></line>
<circle cx="500" cy="1650" r="3"></circle>
<text class="font-sans text-item" text-anchor="end" x="440" y="1658">Beyond Hierarchy</text>
</g>
<g class="sequence-item right-side" data-index="60" data-y="1750">
<line x1="500" x2="550" y1="1750" y2="1750"></line>
<circle cx="500" cy="1750" r="3"></circle>
<text class="font-sans text-item" text-anchor="start" x="560" y="1758">The Empathetic Sherpa</text>
</g>
<g class="sequence-item left-side" data-index="61" data-y="1850">
<line x1="500" x2="450" y1="1850" y2="1850"></line>
<circle cx="500" cy="1850" r="3"></circle>
<text class="font-sans text-item" text-anchor="end" x="440" y="1858">Reclaiming Focus</text>
</g>
<g class="sequence-item right-side" data-index="62" data-y="1950">
<line x1="500" x2="550" y1="1950" y2="1950"></line>
<circle cx="500" cy="1950" r="3"></circle>
<text class="font-sans text-item" text-anchor="start" x="560" y="1958">Unlearning Speed</text>
</g>
<g class="sequence-item left-side" data-index="63" data-y="2050">
<line x1="500" x2="450" y1="2050" y2="2050"></line>
<circle cx="500" cy="2050" r="4"></circle>
<text class="font-sans text-item-bold" text-anchor="end" x="440" y="2058">The Finitude Paradox</text>
</g>
</g><g id="stage-4" transform="translate(0, 8050)">
<g class="sequence-item right-side" data-index="64" data-y="50">
<line x1="500" x2="550" y1="50" y2="50"></line>
<circle cx="500" cy="50" r="4"></circle>
<text class="font-sans text-item-bold" text-anchor="start" x="560" y="58"><tspan dy="0" x="560">Architecting the World via</tspan><tspan dy="1.2em" x="560">Sovereign Mission</tspan></text>
</g>
<g class="sequence-item left-side" data-index="65" data-y="150">
<line x1="500" x2="450" y1="150" y2="150"></line>
<circle cx="500" cy="150" r="3"></circle>
<text class="font-sans text-item" text-anchor="end" x="440" y="158">The Pattern Seeker</text>
</g>
<g class="sequence-item right-side" data-index="66" data-y="250">
<line x1="500" x2="550" y1="250" y2="250"></line>
<circle cx="500" cy="250" r="3"></circle>
<text class="font-sans text-item" text-anchor="start" x="560" y="258">Visionary Exploration</text>
</g>
<g class="sequence-item left-side" data-index="67" data-y="350">
<line x1="500" x2="450" y1="350" y2="350"></line>
<circle cx="500" cy="350" r="3"></circle>
<text class="font-sans text-item" text-anchor="end" x="440" y="358">Inquiry of Value</text>
</g>
<g class="sequence-item right-side" data-index="68" data-y="450">
<line x1="500" x2="550" y1="450" y2="450"></line>
<circle cx="500" cy="450" r="3"></circle>
<text class="font-sans text-item" text-anchor="start" x="560" y="458">Transcending IQ</text>
</g>
<g class="sequence-item left-side" data-index="69" data-y="550">
<line x1="500" x2="450" y1="550" y2="550"></line>
<circle cx="500" cy="550" r="4"></circle>
<text class="font-sans text-item-bold" text-anchor="end" x="440" y="558">The Courage to Discard</text>
</g>
<g class="sequence-item right-side" data-index="70" data-y="650">
<line x1="500" x2="550" y1="650" y2="650"></line>
<circle cx="500" cy="650" r="3"></circle>
<text class="font-sans text-item" text-anchor="start" x="560" y="658">Metacognitive Control</text>
</g>
<g class="sequence-item left-side" data-index="71" data-y="750">
<line x1="500" x2="450" y1="750" y2="750"></line>
<circle cx="500" cy="750" r="3"></circle>
<text class="font-sans text-item" text-anchor="end" x="440" y="758">The Decisive Moment</text>
</g>
<g class="sequence-item right-side" data-index="72" data-y="850">
<line x1="500" x2="550" y1="850" y2="850"></line>
<circle cx="500" cy="850" r="3"></circle>
<text class="font-sans text-item" text-anchor="start" x="560" y="858">Reframing Perspective</text>
</g>
<g class="sequence-item left-side" data-index="73" data-y="950">
<line x1="500" x2="450" y1="950" y2="950"></line>
<circle cx="500" cy="950" r="3"></circle>
<text class="font-sans text-item" text-anchor="end" x="440" y="958">Creation in Motion</text>
</g>
<g class="sequence-item right-side" data-index="74" data-y="1050">
<line x1="500" x2="550" y1="1050" y2="1050"></line>
<circle cx="500" cy="1050" r="4"></circle>
<text class="font-sans text-item-bold" text-anchor="start" x="560" y="1058">The Hybrid Advantage</text>
</g>
<g class="sequence-item left-side" data-index="75" data-y="1150">
<line x1="500" x2="450" y1="1150" y2="1150"></line>
<circle cx="500" cy="1150" r="3"></circle>
<text class="font-sans text-item" text-anchor="end" x="440" y="1158">The Algorithmic Delegate</text>
</g>
<g class="sequence-item right-side" data-index="76" data-y="1250">
<line x1="500" x2="550" y1="1250" y2="1250"></line>
<circle cx="500" cy="1250" r="3"></circle>
<text class="font-sans text-item" text-anchor="start" x="560" y="1258">Curating Meaning</text>
</g>
<g class="sequence-item left-side" data-index="77" data-y="1350">
<line x1="500" x2="450" y1="1350" y2="1350"></line>
<circle cx="500" cy="1350" r="3"></circle>
<text class="font-sans text-item" text-anchor="end" x="440" y="1358">Fail Forward</text>
</g>
<g class="sequence-item right-side" data-index="78" data-y="1450">
<line x1="500" x2="550" y1="1450" y2="1450"></line>
<circle cx="500" cy="1450" r="3"></circle>
<text class="font-sans text-item" text-anchor="start" x="560" y="1458">Collaborative Spirit</text>
</g>
<g class="sequence-item left-side" data-index="79" data-y="1550">
<line x1="500" x2="450" y1="1550" y2="1550"></line>
<circle cx="500" cy="1550" r="4"></circle>
<text class="font-sans text-item-bold" text-anchor="end" x="440" y="1558">Architecting Space</text>
</g>
<g class="sequence-item right-side" data-index="80" data-y="1650">
<line x1="500" x2="550" y1="1650" y2="1650"></line>
<circle cx="500" cy="1650" r="3"></circle>
<text class="font-sans text-item" text-anchor="start" x="560" y="1658">The Signature Style</text>
</g>
<g class="sequence-item left-side" data-index="81" data-y="1750">
<line x1="500" x2="450" y1="1750" y2="1750"></line>
<circle cx="500" cy="1750" r="3"></circle>
<text class="font-sans text-item" text-anchor="end" x="440" y="1758">The Grand Blueprint</text>
</g>
<g class="sequence-item right-side" data-index="82" data-y="1850">
<line x1="500" x2="550" y1="1850" y2="1850"></line>
<circle cx="500" cy="1850" r="3"></circle>
<text class="font-sans text-item" text-anchor="start" x="560" y="1858">Sharpening Logic</text>
</g>
<g class="sequence-item left-side" data-index="83" data-y="1950">
<line x1="500" x2="450" y1="1950" y2="1950"></line>
<circle cx="500" cy="1950" r="3"></circle>
<text class="font-sans text-item" text-anchor="end" x="440" y="1958">The Soul's Imprint</text>
</g>
<g class="sequence-item right-side" data-index="84" data-y="2050">
<line x1="500" x2="550" y1="2050" y2="2050"></line>
<circle cx="500" cy="2050" r="4"></circle>
<text class="font-sans text-item-bold" text-anchor="start" x="560" y="2058">Orchestrating Harmony</text>
</g>
<g class="sequence-item left-side" data-index="85" data-y="2150">
<line x1="500" x2="450" y1="2150" y2="2150"></line>
<circle cx="500" cy="2150" r="3"></circle>
<text class="font-sans text-item" text-anchor="end" x="440" y="2158">Unique Semantics</text>
</g>
<g class="sequence-item right-side" data-index="86" data-y="2250">
<line x1="500" x2="550" y1="2250" y2="2250"></line>
<circle cx="500" cy="2250" r="3"></circle>
<text class="font-sans text-item" text-anchor="start" x="560" y="2258">Portfolio of Life</text>
</g>
<g class="sequence-item left-side" data-index="87" data-y="2350">
<line x1="500" x2="450" y1="2350" y2="2350"></line>
<circle cx="500" cy="2350" r="3"></circle>
<text class="font-sans text-item" text-anchor="end" x="440" y="2358">Trust Protocol</text>
</g>
<g class="sequence-item right-side" data-index="88" data-y="2450">
<line x1="500" x2="550" y1="2450" y2="2450"></line>
<circle cx="500" cy="2450" r="3"></circle>
<text class="font-sans text-item" text-anchor="start" x="560" y="2458">Human Asset Management</text>
</g>
<g class="sequence-item left-side" data-index="89" data-y="2550">
<line x1="500" x2="450" y1="2550" y2="2550"></line>
<circle cx="500" cy="2550" r="4"></circle>
<text class="font-sans text-item-bold" text-anchor="end" x="440" y="2558">Voting with Values</text>
</g>
<g class="sequence-item right-side" data-index="90" data-y="2650">
<line x1="500" x2="550" y1="2650" y2="2650"></line>
<circle cx="500" cy="2650" r="3"></circle>
<text class="font-sans text-item" text-anchor="start" x="560" y="2658">Outsourcing the Reckoning</text>
</g>
<g class="sequence-item left-side" data-index="91" data-y="2750">
<line x1="500" x2="450" y1="2750" y2="2750"></line>
<circle cx="500" cy="2750" r="3"></circle>
<text class="font-sans text-item" text-anchor="end" x="440" y="2758">The Ethical Vote</text>
</g>
<g class="sequence-item right-side" data-index="92" data-y="2850">
<line x1="500" x2="550" y1="2850" y2="2850"></line>
<circle cx="500" cy="2850" r="3"></circle>
<text class="font-sans text-item" text-anchor="start" x="560" y="2858">The Reciprocity Loop</text>
</g>
<g class="sequence-item left-side" data-index="93" data-y="2950">
<line x1="500" x2="450" y1="2950" y2="2950"></line>
<circle cx="500" cy="2950" r="3"></circle>
<text class="font-sans text-item" text-anchor="end" x="440" y="2958">Living Legacy</text>
</g>
<g class="sequence-item right-side" data-index="94" data-y="3050">
<line x1="500" x2="550" y1="3050" y2="3050"></line>
<circle cx="500" cy="3050" r="4"></circle>
<text class="font-sans text-item-bold" text-anchor="start" x="560" y="3058">The Scarcity of Commitment</text>
</g>
</g><g id="stage-5" transform="translate(0, 11500)">
<g class="sequence-item left-side" data-index="95" data-y="50">
<line x1="500" x2="450" y1="50" y2="50"></line>
<circle cx="500" cy="50" r="4"></circle>
<text class="font-sans text-item-bold" text-anchor="end" x="440" y="58"><tspan dy="0" x="440">Engineering Eternal Happiness</tspan><tspan dy="1.2em" x="440">as a System</tspan></text>
</g>
<g class="sequence-item right-side" data-index="96" data-y="150">
<line x1="500" x2="550" y1="150" y2="150"></line>
<circle cx="500" cy="150" r="3"></circle>
<text class="font-sans text-item" text-anchor="start" x="560" y="158">The Spark of Sentience</text>
</g>
<g class="sequence-item left-side" data-index="97" data-y="250">
<line x1="500" x2="450" y1="250" y2="250"></line>
<circle cx="500" cy="250" r="3"></circle>
<text class="font-sans text-item" text-anchor="end" x="440" y="258">The Cultural Ratchet</text>
</g>
<g class="sequence-item right-side" data-index="98" data-y="350">
<line x1="500" x2="550" y1="350" y2="350"></line>
<circle cx="500" cy="350" r="3"></circle>
<text class="font-sans text-item" text-anchor="start" x="560" y="358">The Loudest Silence</text>
</g>
<g class="sequence-item left-side" data-index="99" data-y="450">
<line x1="500" x2="450" y1="450" y2="450"></line>
<circle cx="500" cy="450" r="3"></circle>
<text class="font-sans text-item" text-anchor="end" x="440" y="458">The Cosmic Perspective</text>
</g>
<g class="sequence-item right-side" data-index="100" data-y="550">
<line x1="500" x2="550" y1="550" y2="550"></line>
<circle cx="500" cy="550" r="4"></circle>
<text class="font-sans text-item-bold" text-anchor="start" x="560" y="558">Rewiring the Heart</text>
</g>
</g><g class="sequence-item center-side" data-index="106" data-y="12150" transform="translate(0, 12150)">
<circle class="breathe" cx="500" cy="0" fill="none" r="60" stroke="#FFF" stroke-width="0.5"></circle>
<circle cx="500" cy="0" fill="#111" r="50"></circle>
<text class="font-serif text-item-bold" fill="#FFF" font-size="20" text-anchor="middle" x="500" y="5">HAPPINESS</text>
</g>
<g id="footer-group" transform="translate(0, 13250)">
<line opacity="0.6" stroke="url(#grad-gold)" stroke-width="1" x1="300" x2="700" y1="0" y2="0"></line>
<text class="font-sans footer-text" fill="#555" font-size="11" letter-spacing="0.15em" text-anchor="middle" x="500" y="45">RYTUNYN 2026</text>
<a class="footer-email" href="mailto:rytunyn@rytunyn.com">
<text class="font-sans footer-text footer-link" fill="#666" font-size="10" letter-spacing="0.1em" text-anchor="middle" x="500" y="75">rytunyn@rytunyn.com</text>
</a>
<line opacity="0.4" stroke="#333" stroke-width="1" x1="420" x2="580" y1="100" y2="100"></line>
</g>
</svg>
</div>
<!-- GSAP & ScrollTrigger -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
<script>
        document.addEventListener("DOMContentLoaded", () => {
            const bgSvg = document.getElementById('bg-svg');
            const BG_NS = "http://www.w3.org/2000/svg";
            const keywords = [
                "FLOW",
                "DEEP",
                "EGO",
                "CORE",
                "WHY",
                "NOW",
                "RISK",
                "TRUST",
                "HERO",
                "META",
                "VOID",
                "ZONE"
            ];
            const bgFontSize = 16;
            const density = 0.92;

            function generateStreamContent(length) {
                const hasKeyword = Math.random() > 0.7;
                let streamText = "";
                const keywordIndex = hasKeyword ? Math.floor(Math.random() * (length - 5)) : -1;

                let i = 0;
                while (i < length) {
                    if (hasKeyword && i === keywordIndex) {
                        const word = keywords[Math.floor(Math.random() * keywords.length)];
                        streamText += word;
                        i += word.length;
                    } else {
                        if (Math.random() > 0.15) {
                            streamText += Math.random() > 0.5 ? '1' : '0';
                        } else if (Math.random() > 0.8) {
                            const symbols = "∑∏∆∇∫≠≈";
                            streamText += symbols.charAt(Math.floor(Math.random() * symbols.length));
                        } else {
                            streamText += '\u00A0';
                        }
                        i++;
                    }
                }
                return streamText;
            }

            function createRain() {
                if (!bgSvg) return;
                bgSvg.innerHTML = '';

                const width = window.innerWidth;
                const columns = Math.floor(width / bgFontSize);

                for (let i = 0; i < columns; i++) {
                    if (Math.random() > density) continue;

                    const text = document.createElementNS(BG_NS, "text");
                    const textLength = Math.floor(Math.random() * 40) + 20;
                    const content = generateStreamContent(textLength);

                    text.textContent = content;
                    text.setAttribute("class", "matrix-stream");

                    if (Math.random() > 0.9) {
                        text.style.fill = "#FFFFFF";
                        text.style.opacity = "1.0";
                        text.style.textShadow = "0 0 10px rgba(255, 255, 255, 1)";
                    }

                    const xPos = i * bgFontSize + (Math.random() * 2);
                    text.setAttribute("x", xPos);
                    text.setAttribute("y", -500);

                    const duration = Math.random() * 8 + 4;
                    const delay = Math.random() * -15;

                    text.style.animation = `fall ${duration}s linear infinite`;
                    text.style.animationDelay = `${delay}s`;

                    const sizeVar = Math.floor(Math.random() * 8 + 12);
                    text.style.fontSize = `${sizeVar}px`;

                    if (sizeVar < 14) {
                        text.style.opacity = 0.4;
                        text.style.fill = "#005577";
                    }

                    bgSvg.appendChild(text);
                }
            }

            createRain();

            let resizeTimeout;
            window.addEventListener('resize', () => {
                clearTimeout(resizeTimeout);
                resizeTimeout = setTimeout(createRain, 300);
            });

            gsap.registerPlugin(ScrollTrigger);

            const langToggle = document.getElementById('lang-toggle');
            const storedLang = localStorage.getItem('lang');

            function detectBrowserLang() {
                const rawLangs = (navigator.languages && navigator.languages.length)
                    ? navigator.languages
                    : [navigator.language || navigator.userLanguage || 'en'];
                const normalized = rawLangs.map(lang => String(lang).toLowerCase());
                const match = normalized.find(lang => lang.startsWith('ko') || lang.startsWith('en'));
                return match && match.startsWith('ko') ? 'ko' : 'en';
            }

            const initialLang = (storedLang === 'ko' || storedLang === 'en')
                ? storedLang
                : detectBrowserLang();
            let currentLang = initialLang;

            const enStageTitles = [
                "Phase 1. Authenticity: Firewall",
                "Phase 2. Boldness: Agency",
                "Phase 3. Connection: Bio-Sync",
                "",
                ""
            ];

            const koStageTitles = [
                "1장. 진정성: 알고리즘 방화벽",
                "2장. 대담함: 실행의 주권",
                "3장. 연결: 생물학적 공명",
                "",
                ""
            ];

            const koItems = {
                1: "도파민 감옥 (The Dopamine Cage)",
                2: "에고의 왜곡 (The Ego Distortion)",
                3: "인지 과부하",
                4: "승인 중독",
                5: "마이크로 모먼트 (The Micro-Moment)",
                6: "기억 재구성",
                7: "필터 버블 제로 (Filter Bubble Zero)",
                8: "디지털 휴머니즘 (Digital Humanism)",
                9: "인지 부조화",
                10: "사후 확신 편향",
                11: "프레임의 감옥 (The Frame Trap)",
                12: "주의력 자본",
                13: "더닝-크루거 피크 (The Dunning-Kruger Peak)",
                14: "시스템 셧다운 (System Shutdown)",
                15: "딥 사일런스 (Deep Silence Strategy)",
                16: "내면의 나침반",
                17: "유동적 지능",
                18: "의도적 멈춤",
                19: "거트 인텔리전스 (Gut Intelligence)",
                20: "메타인지 (Metacognition)",
                21: "그로스 마인드셋 (Growth Mindset)",
                22: "플로우 상태 (Flow State)",
                23: "세컨드 브레인 (The Second Brain)",
                24: "시스템 사고 (Systems Thinking)",
                25: "에센셜리즘 (Essentialism)",
                26: "저자 주권",
                27: "킨츠기 철학 (The Kintsugi Philosophy)",
                28: "와이 루프 (The Why Loop)",
                29: "오토텔릭 (Autotelic Personality)",
                30: "연결 지성",
                31: "아모르 파티 (Amor Fati)",
                32: "초월적 가치",
                33: "파워 오브 나우 (The Power of Now)",
                34: "계산된 리스크 (Calculated Risk)",
                35: "피벗 (The Pivot)",
                36: "룰 브레이커 (Rule Breaker)",
                37: "모호함 내성",
                38: "나비 효과 (The Butterfly Effect)",
                39: "아웃 오브 박스 (Thinking Outside the Box)",
                40: "인지 해독",
                41: "메디치 효과 (The Medici Effect)",
                42: "적응 유연성",
                43: "핵심 가치",
                44: "외상 후 성장",
                45: "아이콘 파괴 (Iconoclasm)",
                46: "초속 결정",
                47: "복리 효과",
                48: "딥 워크 (Deep Work)",
                49: "확률적 사고",
                50: "더 존 (The Zone)",
                51: "넛지 (Nudge)",
                52: "안티프래질 (Antifragile)",
                53: "비전 시각화 (Vision Visualization)",
                54: "라이프 디자인 (Designing Your Life)",
                55: "린 스타트업 (The Lean Startup)",
                56: "실패 자산화",
                57: "티핑 포인트 (The Tipping Point)",
                58: "카이로스 (Kairos Moment)",
                59: "카오스 서핑 (Surfing the Chaos)",
                60: "마스터리 (Mastery)",
                61: "인피니트 게임 (The Infinite Game)",
                62: "자기 효능감",
                63: "파괴적 혁신",
                64: "영웅의 여정",
                65: "퀀텀 리프 (Quantum Leap)",
                66: "리추얼의 힘 (The Power of Ritual)",
                67: "고독의 힘",
                68: "래디컬 캔더 (Radical Candor)",
                69: "그림자 통합",
                70: "유머 지능 (Humor Intelligence)",
                71: "1만 시간의 법칙",
                72: "거울 뉴런 (Mirror Neurons)",
                73: "케미스트리 (Creative Chemistry)",
                74: "하이 터치 (High Touch)",
                75: "심리적 안전감",
                76: "취약성의 힘",
                77: "신뢰 자본",
                78: "서번트 리더십 (Servant Leadership)",
                79: "부족 본능",
                80: "비언어적 지능",
                81: "액티브 리스닝 (Active Listening)",
                82: "피그말리온 효과 (Pygmalion Effect)",
                83: "넌제로섬 게임 (Non-Zero-Sum Game)",
                84: "디지털 공감 (Digital Empathy)",
                85: "지식의 전수",
                86: "사회적 안전망",
                87: "아이디어 바이러스 (Idea Virus)",
                88: "도덕적 나침반",
                89: "헬퍼스 하이 (Helper's High)",
                90: "집단 지성",
                91: "다양성과 포용",
                92: "지적 겸손",
                93: "원니스 (Oneness)",
                94: "레거시 (Legacy)",
                95: "창백한 푸른 점 (Pale Blue Dot)",
                96: "양자 얽힘 (Quantum Entanglement)",
                97: "보편적 자비",
                98: "지속 가능성",
                99: "에고의 종말 (The End of Ego)",
                100: "데이 원 정신 (Day One Mentality)"
            };

            const enItems = {
                1: "The Dopamine Cage",
                2: "The Ego Distortion",
                3: "Cognitive Overload",
                4: "Validation Addiction",
                5: "The Micro-Moment",
                6: "Memory Reconstruction",
                7: "Filter Bubble Zero",
                8: "Digital Humanism",
                9: "Cognitive Dissonance",
                10: "Hindsight Bias",
                11: "The Frame Trap",
                12: "Attention Capital",
                13: "The Dunning-Kruger Peak",
                14: "System Shutdown",
                15: "Deep Silence Strategy",
                16: "Inner Compass",
                17: "Fluid Intelligence",
                18: "Intentional Pausing",
                19: "Gut Intelligence",
                20: "Metacognition",
                21: "Growth Mindset",
                22: "Flow State",
                23: "The Second Brain",
                24: "Systems Thinking",
                25: "Essentialism",
                26: "Authorial Sovereignty",
                27: "The Kintsugi Philosophy",
                28: "The Why Loop",
                29: "Autotelic Personality",
                30: "Connective Intelligence",
                31: "Amor Fati",
                32: "Transcendent Value",
                33: "The Power of Now",
                34: "Calculated Risk",
                35: "The Pivot",
                36: "Rule Breaker",
                37: "Tolerance for Ambiguity",
                38: "The Butterfly Effect",
                39: "Thinking Outside the Box",
                40: "Cognitive Detox",
                41: "The Medici Effect",
                42: "Adaptive Flexibility",
                43: "Core Values",
                44: "Post-Traumatic Growth",
                45: "Iconoclasm",
                46: "Velocity Decisioning",
                47: "The Compound Effect",
                48: "Deep Work",
                49: "Probabilistic Thinking",
                50: "The Zone",
                51: "Nudge",
                52: "Antifragile",
                53: "Vision Visualization",
                54: "Designing Your Life",
                55: "The Lean Startup",
                56: "Failure as Asset",
                57: "The Tipping Point",
                58: "Kairos Moment",
                59: "Surfing the Chaos",
                60: "Mastery",
                61: "The Infinite Game",
                62: "Self-Efficacy",
                63: "Disruptive Innovation",
                64: "The Hero's Journey",
                65: "Quantum Leap",
                66: "The Power of Ritual",
                67: "Solitude Power",
                68: "Radical Candor",
                69: "Integrating the Shadow",
                70: "Humor Intelligence",
                71: "10,000 Hours Rule",
                72: "Mirror Neurons",
                73: "Creative Chemistry",
                74: "High Touch",
                75: "Psychological Safety",
                76: "Power of Vulnerability",
                77: "Trust Capital",
                78: "Servant Leadership",
                79: "Tribal Instinct",
                80: "Nonverbal Intelligence",
                81: "Active Listening",
                82: "Pygmalion Effect",
                83: "Non-Zero-Sum Game",
                84: "Digital Empathy",
                85: "Passing the Torch",
                86: "Social Safety Net",
                87: "Idea Virus",
                88: "Moral Compass",
                89: "Helper's High",
                90: "Collective Intelligence",
                91: "D&I",
                92: "Intellectual Humility",
                93: "Oneness",
                94: "Legacy",
                95: "Pale Blue Dot",
                96: "Quantum Entanglement",
                97: "Universal Compassion",
                98: "Sustainability",
                99: "The End of Ego",
                100: "Day One Mentality"
            };

            const enHappinessLabel = "HAPPINESS";
            const koHappinessLabel = "행복";

            function setSvgTextWithOptionalEnglish(textEl, textValue) {
                while (textEl.firstChild) {
                    textEl.removeChild(textEl.firstChild);
                }

                const match = textValue.match(/^(.*?)\s*\(([^)]+)\)\s*$/);
                if (!match) {
                    textEl.textContent = textValue;
                    return;
                }

                const baseText = match[1].trim();
                const englishText = match[2].trim();
                const x = textEl.getAttribute('x') || '0';

                const firstLine = document.createElementNS('http://www.w3.org/2000/svg', 'tspan');
                firstLine.setAttribute('x', x);
                firstLine.setAttribute('dy', '0');
                firstLine.textContent = baseText;

                const secondLine = document.createElementNS('http://www.w3.org/2000/svg', 'tspan');
                secondLine.setAttribute('x', x);
                secondLine.setAttribute('dy', '1.2em');
                secondLine.textContent = englishText;

                textEl.appendChild(firstLine);
                textEl.appendChild(secondLine);
            }

            function applyKoreanContent() {
                const stageTitles = document.querySelectorAll('[id^="stage-"] .text-stage');
                stageTitles.forEach((titleEl, index) => {
                    titleEl.textContent = koStageTitles[index] || "";
                });

                const items = document.querySelectorAll('.sequence-item[data-index]');
                items.forEach(item => {
                    const index = Number(item.getAttribute('data-index'));
                    const textValue = koItems[index];
                    if (!textValue) return;

                    const textEl = item.querySelector('text');
                    if (!textEl) return;

                    setSvgTextWithOptionalEnglish(textEl, textValue);
                });

                const happinessNodes = document.querySelectorAll('.sequence-item.center-side[data-index="106"]');
                happinessNodes.forEach(node => {
                    const texts = node.querySelectorAll('text');
                    if (texts[0]) {
                        texts[0].textContent = koHappinessLabel;
                    }
                });
            }

            function applyEnglishContent() {
                const stageTitles = document.querySelectorAll('[id^="stage-"] .text-stage');
                stageTitles.forEach(titleEl => {
                    const index = Array.from(stageTitles).indexOf(titleEl);
                    titleEl.textContent = enStageTitles[index] || "";
                });

                const items = document.querySelectorAll('.sequence-item[data-index]');
                items.forEach(item => {
                    const textEl = item.querySelector('text');
                    if (!textEl) return;
                    const index = Number(item.getAttribute('data-index'));
                    const textValue = enItems[index];
                    if (!textValue) return;

                    while (textEl.firstChild) {
                        textEl.removeChild(textEl.firstChild);
                    }
                    textEl.textContent = textValue;
                });

                const happinessNodes = document.querySelectorAll('.sequence-item.center-side[data-index="106"]');
                happinessNodes.forEach(node => {
                    const texts = node.querySelectorAll('text');
                    if (texts[0]) {
                        texts[0].textContent = enHappinessLabel;
                    }
                });
            }

            function setLanguage(lang) {
                currentLang = lang;
                localStorage.setItem('lang', lang);
                document.documentElement.lang = lang === 'ko' ? 'ko' : 'en';
                if (lang === 'ko') {
                    applyKoreanContent();
                    if (langToggle) langToggle.textContent = 'EN';
                } else {
                    applyEnglishContent();
                    if (langToggle) langToggle.textContent = 'KR';
                }
            }

            setLanguage(currentLang);

            if (langToggle) {
                langToggle.addEventListener('click', () => {
                    setLanguage(currentLang === 'ko' ? 'en' : 'ko');
                });
            }

            // ScrollTrigger 초기화 함수 (레이아웃 최적화 후 호출됨)
            function initScrollAnimation() {
                const items = document.querySelectorAll('.sequence-item');
                const stageTexts = document.querySelectorAll('.text-stage');

                // 터치 디바이스 감지
                const isTouchDevice = ('ontouchstart' in window) || (navigator.maxTouchPoints > 0);

                // 공통 활성화 체크 함수 (모든 디바이스에서 동일하게 작동)
                function checkActiveItems() {
                    const viewportHeight = window.innerHeight;
                    const activeZoneTop = viewportHeight * 0.30;  // 30%
                    const activeZoneBottom = viewportHeight * 0.70;  // 70%
                    
                    let activeCount = 0;
                    
                    items.forEach(item => {
                        // SVG 내부 circle 요소의 실제 화면 위치를 가져옴
                        const circle = item.querySelector('circle');
                        if (circle) {
                            const rect = circle.getBoundingClientRect();
                            const itemY = rect.top + rect.height / 2;
                            
                            if (itemY >= activeZoneTop && itemY <= activeZoneBottom) {
                                if (!item.classList.contains('active')) {
                                    item.classList.add('active');
                                    activeCount++;
                                }
                            } else {
                                if (item.classList.contains('active')) {
                                    item.classList.remove('active');
                                }
                            }
                        }
                    });
                    
                    stageTexts.forEach(item => {
                        const rect = item.getBoundingClientRect();
                        const itemY = rect.top + rect.height / 2;
                        
                        if (itemY >= activeZoneTop && itemY <= activeZoneBottom) {
                            if (!item.classList.contains('active')) {
                                item.classList.add('active');
                                activeCount++;
                            }
                        } else {
                            if (item.classList.contains('active')) {
                                item.classList.remove('active');
                            }
                        }
                    });
                }

                if (isTouchDevice) {
                    // 터치 디바이스: 스크롤 기반 감지
                    console.log('Touch device detected: Using scroll-based detection');
                    
                    window.addEventListener('scroll', checkActiveItems, { passive: true });
                    window.addEventListener('resize', checkActiveItems, { passive: true });
                    
                    // 초기 체크 및 주기적 체크
                    checkActiveItems();
                    setInterval(checkActiveItems, 16); // ~60fps
                } else {
                    // 비터치 디바이스: 스크롤 기반 감지 (GSAP 대신 동일한 로직 사용)
                    console.log('Non-touch device detected: Using scroll-based detection');
                    
                    window.addEventListener('scroll', checkActiveItems, { passive: true });
                    window.addEventListener('resize', checkActiveItems, { passive: true });
                    
                    // 초기 체크 및 주기적 체크
                    checkActiveItems();
                    setInterval(checkActiveItems, 16); // ~60fps
                }

                console.log('Scroll animation initialized. Items found:', items.length, '| Touch device:', isTouchDevice);
            }

            // initScrollAnimation은 레이아웃 최적화 후 호출됨 (아래에서 setTimeout으로 호출)

            /* 모바일 흐르는 연결선 생성 함수 */
            function addFlowConnectors(svg, centerX, stopAtY) {
                const items = Array.from(svg.querySelectorAll('.sequence-item[data-index]'))
                    .filter(item => {
                        const index = Number(item.getAttribute('data-index'));
                        return index >= 1 && index <= 100;
                    });
                const flowGroup = document.createElementNS('http://www.w3.org/2000/svg', 'g');
                flowGroup.setAttribute('id', 'flow-connectors');

                const isMobileFlow = window.innerWidth <= 600;
                const circleRadius = isMobileFlow ? 4 : 3;
                const stopPadding = 140;
                const effectiveStopY = typeof stopAtY === 'number' ? (stopAtY - stopPadding) : null;

                items.forEach((item, index) => {
                    if (index === items.length - 1) return;

                    const nextItem = items[index + 1];

                    let y1;
                    let y2;

                    if (isMobileFlow) {
                        const currentY = parseFloat(item.getAttribute('data-layout-y'));
                        const nextY = parseFloat(nextItem.getAttribute('data-layout-y'));

                        if (Number.isFinite(currentY) && Number.isFinite(nextY)) {
                            const gap = nextY - currentY;
                            const pad = Math.min(120, Math.max(60, gap * 0.2));
                            y1 = currentY + pad;
                            y2 = nextY - pad;
                        }
                    }

                    if (!Number.isFinite(y1) || !Number.isFinite(y2)) {
                        const currentRect = item.getBoundingClientRect();
                        const nextRect = nextItem.getBoundingClientRect();

                        // SVG 좌표계로 변환
                        const svgRect = svg.getBoundingClientRect();
                        const viewBox = svg.viewBox.baseVal;
                        const scaleY = viewBox.height / svgRect.height;

                        y1 = (currentRect.bottom - svgRect.top) * scaleY;
                        y2 = (nextRect.top - svgRect.top) * scaleY;
                    }

                    if (effectiveStopY !== null) {
                        if (y1 >= effectiveStopY) return;
                        y2 = Math.min(y2, effectiveStopY);
                    }

                    // 연결선 길이가 충분할 때만 추가
                    if (y2 - y1 > 40) {
                        const gap = y2 - y1;
                        const lineLength = isMobileFlow
                            ? Math.min(140, Math.max(80, gap * 0.3))
                            : Math.min(80, Math.max(40, gap * 0.2));
                        const midY = (y1 + y2) / 2;
                        const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                        line.setAttribute('x1', centerX);
                        line.setAttribute('y1', midY - (lineLength / 2));
                        line.setAttribute('x2', centerX);
                        line.setAttribute('y2', midY + (lineLength / 2));
                        line.classList.add('flow-line');
                        line.style.animationDelay = `${(index % 12) * 0.12}s`;
                        flowGroup.appendChild(line);

                        // 서클 제거: 선만 유지
                    }
                });

                // 기존 연결선 그룹 제거 후 새로 추가
                const existing = svg.querySelector('#flow-connectors');
                if (existing) existing.remove();
                svg.appendChild(flowGroup);
            }

            /* 2. LAYOUT ENGINE (Mobile Centering) */
            function optimizeLayoutForMobile() {
                if (window.innerWidth <= 600) {
                    console.log("Layout Engine: Applying Center Penetration for Mobile...");

                    const svg = document.getElementById('main-svg');
                    const axisLine = document.getElementById('axis-line');
                    const footer = document.getElementById('footer-group');

                    // Center all elements to x=400 (for viewBox 800)
                    const MOBILE_CENTER = 400;

                    // 1. Center the axis line
                    axisLine.setAttribute('x1', MOBILE_CENTER);
                    axisLine.setAttribute('x2', MOBILE_CENTER);

                    // 2. Center HERO section texts
                    svg.querySelectorAll('.breathe text').forEach(el => {
                        el.setAttribute('x', MOBILE_CENTER);
                    });
                    svg.querySelectorAll('.breathe line').forEach(el => {
                        el.setAttribute('x1', MOBILE_CENTER - 100);
                        el.setAttribute('x2', MOBILE_CENTER + 100);
                    });

                    // 3. Center scroll indicator
                    const scrollPath = svg.querySelector('.center-side path');
                    if (scrollPath) {
                        scrollPath.setAttribute('d', `M ${MOBILE_CENTER} 500 L ${MOBILE_CENTER} 550`);
                    }

                    // Hyper-Spacing Configuration
                    const MOBILE_ITEM_GAP = 400;
                    const MOBILE_STAGE_PAD = MOBILE_ITEM_GAP - 100;

                    let currentY = 900;
                    let lastStageBaseY = 0;
                    let lastStageMaxItemY = 0;

                    const stages = [1, 2, 3, 4, 5];

                    stages.forEach(stageNum => {
                        const stageGroup = document.getElementById(`stage-${stageNum}`);
                        if (!stageGroup) return;

                        // Move Stage
                        stageGroup.setAttribute('transform', `translate(0, ${currentY})`);
                        if (stageNum === stages[stages.length - 1]) {
                            lastStageBaseY = currentY;
                        }

                        // Center stage title
                        const stageTitle = stageGroup.querySelector('.text-stage');
                        if (stageTitle) {
                            stageTitle.setAttribute('x', MOBILE_CENTER);
                            stageTitle.setAttribute('text-anchor', 'middle');
                        }

                        // Center stage axis lines
                        stageGroup.querySelectorAll('.axis-line').forEach(line => {
                            line.setAttribute('x1', MOBILE_CENTER);
                            line.setAttribute('x2', MOBILE_CENTER);
                        });

                        // Adjust items
                        const stageItems = stageGroup.querySelectorAll('.sequence-item');
                        let maxItemY = 0;

                        stageItems.forEach((item, index) => {
                            let newItemY;

                            if (item.getAttribute('data-index') === '31') {
                                // HAPPINESS node needs extra spacing from last item
                                newItemY = (stageItems.length - 1) * MOBILE_ITEM_GAP + 500;
                            } else {
                                newItemY = 100 + (index * MOBILE_ITEM_GAP);
                            }

                            const originalY = parseInt(item.getAttribute('data-y') || 0);
                            const shiftY = newItemY - originalY;
                            const layoutY = currentY + newItemY;

                            // Center all text elements (including multi-line tspans)
                            item.querySelectorAll('text').forEach(textEl => {
                                textEl.setAttribute('x', MOBILE_CENTER);
                                textEl.setAttribute('text-anchor', 'middle');
                                textEl.querySelectorAll('tspan').forEach(tspan => {
                                    tspan.setAttribute('x', MOBILE_CENTER);
                                });
                            });

                            // Center circles
                            item.querySelectorAll('circle').forEach(circle => {
                                circle.setAttribute('cx', MOBILE_CENTER);
                            });

                            item.setAttribute('transform', `translate(0, ${shiftY})`);
                            item.setAttribute('data-layout-y', String(layoutY));

                            if (newItemY > maxItemY) maxItemY = newItemY;
                        });

                        if (stageNum === stages[stages.length - 1]) {
                            lastStageMaxItemY = maxItemY;
                        }

                        currentY += maxItemY + MOBILE_STAGE_PAD;
                    });

                    // Final HAPPINESS node (center-side) alignment and placement
                    const MOBILE_HAPPINESS_GAP = MOBILE_ITEM_GAP;
                    const happinessY = lastStageBaseY + lastStageMaxItemY + MOBILE_HAPPINESS_GAP;
                    const happinessNodes = svg.querySelectorAll('.sequence-item.center-side[data-index="106"]');
                    happinessNodes.forEach(node => {
                        node.setAttribute('transform', `translate(0, ${happinessY})`);
                        node.querySelectorAll('text').forEach(textEl => {
                            textEl.setAttribute('x', MOBILE_CENTER);
                            textEl.setAttribute('text-anchor', 'middle');
                            textEl.querySelectorAll('tspan').forEach(tspan => {
                                tspan.setAttribute('x', MOBILE_CENTER);
                            });
                        });
                        node.querySelectorAll('circle').forEach(circle => {
                            circle.setAttribute('cx', MOBILE_CENTER);
                        });
                    });

                    // 모바일 전용: 흐르는 연결선 추가
                    // Footer는 HAPPINESS 아래에 배치
                    const MOBILE_FOOTER_GAP = MOBILE_ITEM_GAP;
                    const footerY = happinessY + MOBILE_FOOTER_GAP;

                    // Center footer elements
                    footer.setAttribute('transform', `translate(0, ${footerY})`);
                    footer.querySelectorAll('text').forEach(el => {
                        el.setAttribute('x', MOBILE_CENTER);
                    });
                    footer.querySelectorAll('line').forEach(el => {
                        el.setAttribute('x1', MOBILE_CENTER - 100);
                        el.setAttribute('x2', MOBILE_CENTER + 100);
                    });

                    // 모바일 전용: 흐르는 연결선 추가 (푸터 전에 종료)
                    addFlowConnectors(svg, MOBILE_CENTER, footerY);

                    const totalHeight = footerY + 160;
                    axisLine.setAttribute('y2', totalHeight);
                    svg.setAttribute('viewBox', `0 0 800 ${totalHeight}`);
                } else {
                    const svg = document.getElementById('main-svg');
                    const DESKTOP_CENTER = 500;
                    const DESKTOP_ITEM_GAP = 100;
                    const DESKTOP_STAGE_GAP = DESKTOP_ITEM_GAP;
                    const axisLine = document.getElementById('axis-line');

                    const stages = [1, 2, 3, 4, 5];
                    let currentY = 700;
                    let lastStageEndY = 0;

                    stages.forEach(stageNum => {
                        const stageGroup = document.getElementById(`stage-${stageNum}`);
                        if (!stageGroup) return;

                        const stageItems = Array.from(stageGroup.querySelectorAll('.sequence-item'));
                        if (!stageItems.length) return;

                        const itemYs = stageItems.map(item => Number(item.getAttribute('data-y') || 0));
                        const minY = Math.min(...itemYs);
                        const maxY = Math.max(...itemYs);

                        stageGroup.setAttribute('transform', `translate(0, ${currentY - minY})`);
                        lastStageEndY = currentY + (maxY - minY);
                        currentY = lastStageEndY + DESKTOP_STAGE_GAP;
                    });

                    const happinessNodes = svg.querySelectorAll('.sequence-item.center-side[data-index="106"]');
                    happinessNodes.forEach(node => {
                        node.setAttribute('transform', `translate(0, ${currentY})`);
                        node.setAttribute('data-y', String(currentY));
                    });

                    const footer = document.getElementById('footer-group');
                    const footerY = currentY + DESKTOP_ITEM_GAP;
                    footer.setAttribute('transform', `translate(0, ${footerY})`);

                    addFlowConnectors(svg, DESKTOP_CENTER, footerY);
                    axisLine.setAttribute('y2', footerY - 120);
                    svg.setAttribute('viewBox', `0 0 1000 ${footerY + 160}`);
                }
            }

            optimizeLayoutForMobile();

            // 모바일 레이아웃 변경 후 ScrollTrigger 초기화
            setTimeout(() => {
                initScrollAnimation();  // 레이아웃 완료 후 초기화
                ScrollTrigger.refresh();
                console.log('Layout complete, ScrollTrigger initialized and refreshed');
            }, 300);
        });
    </script>
</body>
</html>